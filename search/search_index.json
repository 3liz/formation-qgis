{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Formation QGIS # Liens # Manuel d'utilisation officiel QGIS https://docs.qgis.org/latest/fr/docs/user_manual/ Autres liens utiles : http://www.geoinformations.developpement-durable.gouv.fr/ Donn\u00e9es # Dans le dossier data de la cl\u00e9 USB/FTP, vous pouvez avoir des donn\u00e9es comme : IGN: AdminExpress OCS-GE si disponible BD Topo (d\u00e9sormais ouverte) Osm2Igeo Base comparatrice de l'INSEE SRTM si besoin Ces donn\u00e9es sont gratuites et t\u00e9l\u00e9chargeables, selon une licence. Lire ici. Contenu # Pr\u00e9sentation des SIG et de QGIS Rappel de base sur le SIG ( PDF ) Le projet QGIS Association QGIS Liste des modifications dans les versions Calendrier des versions Projet QGIS du calendrier Rappel cartographique ( PDF de Boris Mericskay ) Rappel sur les projections ( PDF ) https://www.youtube.com/watch?v=kIID5FDi2JQ https://thetruesize.com Source de donn\u00e9es Prise en main de QGIS Interface de QGIS Fen\u00eatre principale Astuces Propri\u00e9t\u00e9s Les extensions QGIS Ajouter des couches et les visualiser Vecteurs Encodage Rasters (MNT, WMS, QuickMapServices) Manipuler la l\u00e9gende Utiliser les th\u00e8mes de couches Les vues cartes La vue 3D Extension LayerBoard Utilisation des outils de la barre d'outil vecteur Faire des s\u00e9lections graphiques Faire des s\u00e9lections par valeur Les projections Les projections courantes en France m\u00e9tropolitaine Enregistrer en tant que nouvelle couche (avec ou sans s\u00e9lection) et reprojeter Ajout d'un fichier CSV avec jointure Compl\u00e9ter une table attributaire avec un fichier externe Les expressions Nommage d'une entit\u00e9 Infobulle Requ\u00eate attributaire (s\u00e9lection par expression) Mise en forme conditionnelle Calculatrice de champ Panneau statistique La symbologie vecteur Les diff\u00e9rents types de symbologie Ponctuelle Polygonale Lin\u00e9aire Gradu\u00e9e, cat\u00e9goris\u00e9e, r\u00e8gles, discr\u00e9tisation Les niveaux de dessins pour un m\u00eame symbole Les effets \u00c9tiquettes Configuration D\u00e9placement manuel des \u00e9tiquettes Utilisation d'une expression pour construire l'\u00e9tiquette Processing Outil d'analyse vecteur Modification par algorithme de traitement Couche virtuelle Construire une couche virtuelle Mise en page Faire une carte statique Utilisation des variables et des expressions Faire un atlas Faire un rapport Cr\u00e9ation de donn\u00e9es Cr\u00e9ation des tables Les relations 1-n entre les tables Les formulaires avec les masques de saisies Les champs virtuels DataPlotly Faire des graphiques dans l'interface QGIS Ajouter des graphiques dans un atlas","title":"Accueil"},{"location":"#formation-qgis","text":"","title":"Formation QGIS"},{"location":"#liens","text":"Manuel d'utilisation officiel QGIS https://docs.qgis.org/latest/fr/docs/user_manual/ Autres liens utiles : http://www.geoinformations.developpement-durable.gouv.fr/","title":"Liens"},{"location":"#donnees","text":"Dans le dossier data de la cl\u00e9 USB/FTP, vous pouvez avoir des donn\u00e9es comme : IGN: AdminExpress OCS-GE si disponible BD Topo (d\u00e9sormais ouverte) Osm2Igeo Base comparatrice de l'INSEE SRTM si besoin Ces donn\u00e9es sont gratuites et t\u00e9l\u00e9chargeables, selon une licence. Lire ici.","title":"Donn\u00e9es"},{"location":"#contenu","text":"Pr\u00e9sentation des SIG et de QGIS Rappel de base sur le SIG ( PDF ) Le projet QGIS Association QGIS Liste des modifications dans les versions Calendrier des versions Projet QGIS du calendrier Rappel cartographique ( PDF de Boris Mericskay ) Rappel sur les projections ( PDF ) https://www.youtube.com/watch?v=kIID5FDi2JQ https://thetruesize.com Source de donn\u00e9es Prise en main de QGIS Interface de QGIS Fen\u00eatre principale Astuces Propri\u00e9t\u00e9s Les extensions QGIS Ajouter des couches et les visualiser Vecteurs Encodage Rasters (MNT, WMS, QuickMapServices) Manipuler la l\u00e9gende Utiliser les th\u00e8mes de couches Les vues cartes La vue 3D Extension LayerBoard Utilisation des outils de la barre d'outil vecteur Faire des s\u00e9lections graphiques Faire des s\u00e9lections par valeur Les projections Les projections courantes en France m\u00e9tropolitaine Enregistrer en tant que nouvelle couche (avec ou sans s\u00e9lection) et reprojeter Ajout d'un fichier CSV avec jointure Compl\u00e9ter une table attributaire avec un fichier externe Les expressions Nommage d'une entit\u00e9 Infobulle Requ\u00eate attributaire (s\u00e9lection par expression) Mise en forme conditionnelle Calculatrice de champ Panneau statistique La symbologie vecteur Les diff\u00e9rents types de symbologie Ponctuelle Polygonale Lin\u00e9aire Gradu\u00e9e, cat\u00e9goris\u00e9e, r\u00e8gles, discr\u00e9tisation Les niveaux de dessins pour un m\u00eame symbole Les effets \u00c9tiquettes Configuration D\u00e9placement manuel des \u00e9tiquettes Utilisation d'une expression pour construire l'\u00e9tiquette Processing Outil d'analyse vecteur Modification par algorithme de traitement Couche virtuelle Construire une couche virtuelle Mise en page Faire une carte statique Utilisation des variables et des expressions Faire un atlas Faire un rapport Cr\u00e9ation de donn\u00e9es Cr\u00e9ation des tables Les relations 1-n entre les tables Les formulaires avec les masques de saisies Les champs virtuels DataPlotly Faire des graphiques dans l'interface QGIS Ajouter des graphiques dans un atlas","title":"Contenu"},{"location":"ajout-couches/","text":"Ajout de couches et organisation de la l\u00e9gende # Documentation # https://docs.qgis.org/latest/fr/docs/user_manual/managing_data_source/index.html https://docs.qgis.org/latest/fr/docs/user_manual/introduction/general_tools.html#label-legend P\u00e2ques avant l'heure # Dans certains logiciels, il existe des \u0153ufs de P\u00e2ques (Easter Egg). Nous allons utiliser l'un d'entre eux pour ajouter notre premi\u00e8re couche dans QGIS. Taper world dans la barre des coordonn\u00e9es en bas et regardons l'utilisation de la barre d'outils de navigation. Vecteurs # \u00c0 l'aide de l'ic\u00f4ne plus dans la barre d'outil ci-dessus Source de donn\u00e9es , ajoutons une couche Vecteur de type Fichier . H_OSM_ADMINISTRATIF / COMMUNE.shp Pour info , dans les barres d'outils, les \u00e9toiles jaunes signifient la cr\u00e9ation de nouvelle couche. Dans notre cas, nous souhaitons donc bien l'ajout d'une couche existante. Enregistrer le projet Projet -> Enregistrer sous... et mettez-le dans le dossier data contenant les donn\u00e9es. au format QGIS (extension .qgs ). D\u00e9sormais, l'aide du panneau Explorateur , dans Dossier du projet : Charger A_OSM_RESEAU_ROUTIER / ROUTE.shp Charger F_OSM_VEGETATION / ZONE_VEGETATION.shp Charger H_OSM_ADMINISTRATIF / CHEF_LIEU.shp Charger I_OSM_ZONE_ACTIVITE / PAI_INDUSTRIEL_COMMERCIAL.shp Notons que le glisser/d\u00e9poser fonctionne aussi. Nous pouvons faire un clic droit puis Propri\u00e9t\u00e9s pour ouvrir la configuration de la couche. Encodage # Si il y a des probl\u00e8mes d'accents, dans l'onglet Source , essayer : System , latin1 , ISO 8859-1 , CP-1252 Petites explications sur les encodages : Unicode : jeu de caract\u00e8res cod\u00e9s dit \u00ab universel \u00bb qui permet de remplacer les pages de codes nationales. Comprend un r\u00e9pertoire tr\u00e8s \u00e9tendu de caract\u00e8res compatible avec tous les alphabets. Il est en \u00e9volution constante (une version en juin 2014) avec plus de 100 000 caract\u00e8res. UTF-8 est le codage international le plus utilis\u00e9 (en particulier sur le web) compatible avec Unicode. Il est support\u00e9 par tous les navigateurs web et par tous les syst\u00e8mes d\u2019exploitation r\u00e9cents. L\u2019internationalisation et la portabilit\u00e9 font naturellement recommander ce codage (Permet de repr\u00e9senter des caract\u00e8res qui n\u2019existent pas en latin-1). ISO 8859-1 ou Latin-1 : principalement utilis\u00e9 par Windows pour les pays occidentaux, il int\u00e8gre de nombreux caract\u00e8res sp\u00e9ciaux comme \u00e9, \u00e8, \u00e0, \u00e7, \u00c9, etc, mais pas \u20ac,\u0153. CP-1252 ou WIN 1252 : extension d\u2019ISO 8859-1 ; initi\u00e9 dans les ann\u00e9es 1990, il ajoute quelques caract\u00e8res particuliers \u00e0 Latin-1 comme \u20ac,\u0153, etc. ISO-8859-15 (ou latin9) est \u00e9galement tr\u00e8s proche. Il ajoute au 88959-1 entre autres le caract\u00e8re de l'euro (\u20ac) et les caract\u00e8res \u0152, \u0153 et \u0178 qui manquaient pour l'\u00e9criture du fran\u00e7ais, les caract\u00e8res \u0160 et \u0161 qui manquaient pour l'\u00e9criture du tch\u00e8que. Il enl\u00e8ve en \u00e9change quelques caract\u00e8res peu utilis\u00e9s. Source : http://www.geoinformations.developpement-durable.gouv.fr/qgis-encodage-des-fichiers-shp-et-recommandations-a2908.html Rasters # Fichier MNT # Pour rappel , un fichier MNT veut dire Mod\u00e8le Num\u00e9rique de Terrain, c'est-\u00e0-dire un fichier comportant des informations sur l'altitude. \u00c0 l'aide du bouton Source de donn\u00e9es , ajouter la couche de type Raster contenu dans le dossier srtm . WMS de l'IGN # \u00c0 l'aide du bouton Source de donn\u00e9es , ajouter une connexion WMS : Nom : IGN WMTS URL : https://wxs.ign.fr/decouverte/geoportail/wmts?SERVICE=WMTS&REQUEST=GetCapabilities Ajouter des flux provenant de l'IGN en utilisant cette cl\u00e9 gratuite decouverte . Pour votre information : https://geoservices.ign.fr/services-web \u00c0 l'aide d'un plugin # \u00c0 l'aide de l'extension QuickMapServices dans le gestionnaire des extensions Python. L'autre extension historique OpenLayers n'est pas forc\u00e9ment recommand\u00e9e, surtout lors de l'impression. Dans sa configuration, cliquer sur le bouton Obtenir le pack des contributeurs . \u00c0 l'aide du panneau explorateur # Une couche de l'IGN Une couche XYZ Manipulation de la l\u00e9gende # Dans le panneau \u00e0 gauche, vous remarquez la l\u00e9gende, avec sa barre d'outils. Ce panneau nous permet de faire plusieurs actions : * r\u00e9ordonner les couches avec un ordre logique : ponctuel, lin\u00e9aire, polygone, raster * masquer/afficher des couches * faire des groupes Utiliser les th\u00e8mes de couches # Un th\u00e8me de couche est caract\u00e9ris\u00e9 par un nom et permet de sauvegarder : l' \u00e9tat des couches coch\u00e9es dans la l\u00e9gende les styles actifs de chaque couche \u00c9tapes : Cocher/d\u00e9cocher les couches pour obtenir le r\u00e9glage souhait\u00e9 Cliquer sur le bouton \u0153il de la barre d'outil au-dessus du panneau Couches Choisir l'item Ajouter un th\u00e8me Choisir un nom et valider Une fois un ou plusieurs th\u00e8mes enregistr\u00e9s, on peut basculer facilement de l'un \u00e0 autre th\u00e8me via le bouton \u0153il . Les th\u00e8mes peuvent \u00eatre utilis\u00e9s pour g\u00e9rer les couches affich\u00e9es dans chaque vue , ainsi que dans chaque carte de chaque composeur d'impression . Les vues cartes # QGIS3 propose d'afficher plusieurs canevas, appel\u00e9s vues cartes , au lieu d'une seule carte centrale. Menu Vue / Nouvelle vue cartographique On peut la faire glisser dans l'interface , par exemple dans le panneau de droite Par d\u00e9faut, elle se comporte comme la carte principale : les m\u00eames couches sont visibles La vue 3D # La vue 3D permet de draper des donn\u00e9es vectorielles ou raster par-dessus un mod\u00e8le num\u00e9rique de terrain (MNT) Elle peut aussi repr\u00e9senter des donn\u00e9es qui ont une composante d'altitude (Z). L'extension Layer Board # L'extension Layer Board permet d'obtenir un tableau r\u00e9capitulatif des couches qui sont charg\u00e9es. Observez les diff\u00e9rentes projections. Enregistrer le projet # Faire un enregistrement du projet et regarder la taille du fichier. Si le fichier comporte l'extension QGS , v\u00e9rifiez le contenu du fichier. Un projet ne contient aucunes donn\u00e9es g\u00e9ographiques. Les donn\u00e9es g\u00e9ographiques ne sont pas incluses dans le projet en lui-m\u00eame. Ce ne sont que des liens. Utilisation des outils # Dans les barres d'outils, chercher les outils suivants : de mesure (longueur, aire, angle) dont l'ic\u00f4ne comporte une petite r\u00e8gle. Notons pour la mesure de longueur et d'aire la possibilit\u00e9 de choisir entre deux options : Cart\u00e9sien , mesure dans le plan X, Y Ellipso\u00efdale , mesure en tenant compte de la rotondit\u00e9 de la Terre d'identification (d'information) afin d'obtenir des informations sur une entit\u00e9. Cela liste les attributs : de la table attributaire et les attributs d\u00e9riv\u00e9s (longueur, surface, coordonn\u00e9es etc) table attributaire : Remarquons que comme dans un tableur, le contenu des cellules est align\u00e9 sur la droite ou sur la gauche : \u00c0 droite, il s'agit des champs num\u00e9riques \u00c0 gauche, les champs qui sont des cha\u00eenes de caract\u00e8res F6 permet d'ouvrir la table attributaire, mais attention aux couches lourdes ! Shift (Maj) + F6 , S hift comme s\u00e9lection pour ouvrir que les entit\u00e9s s\u00e9lectionn\u00e9es Ctrl + F6 pour les entit\u00e9s visibles s\u00e9lection graphique sur la carte : au clic-clic ou un rectangle polygone, main lev\u00e9, rayon utilisation de shift pour faire une s\u00e9lection multiple Astuce pour une s\u00e9lection des points intersectant un polygone Avec une couche ponctuelle et polygonale : S\u00e9lectionner la couche de point dans la l\u00e9gende Utilisez l'outil de s\u00e9lection graphique par polygone Clic-droit sur un polygone Dans le menu contextuel, choisir la couche polygonale L'ensemble des points intersectant le polygone en question est s\u00e9lectionn\u00e9 s\u00e9lection par valeur qui permet de faire de s\u00e9lections selon des crit\u00e8res dans la table attributaire, de mani\u00e8re interactive . Plusieurs modes de s\u00e9lections sont possibles.","title":"Ajouter des couches"},{"location":"ajout-couches/#ajout-de-couches-et-organisation-de-la-legende","text":"","title":"Ajout de couches et organisation de la l\u00e9gende"},{"location":"ajout-couches/#documentation","text":"https://docs.qgis.org/latest/fr/docs/user_manual/managing_data_source/index.html https://docs.qgis.org/latest/fr/docs/user_manual/introduction/general_tools.html#label-legend","title":"Documentation"},{"location":"ajout-couches/#paques-avant-lheure","text":"Dans certains logiciels, il existe des \u0153ufs de P\u00e2ques (Easter Egg). Nous allons utiliser l'un d'entre eux pour ajouter notre premi\u00e8re couche dans QGIS. Taper world dans la barre des coordonn\u00e9es en bas et regardons l'utilisation de la barre d'outils de navigation.","title":"P\u00e2ques avant l'heure"},{"location":"ajout-couches/#vecteurs","text":"\u00c0 l'aide de l'ic\u00f4ne plus dans la barre d'outil ci-dessus Source de donn\u00e9es , ajoutons une couche Vecteur de type Fichier . H_OSM_ADMINISTRATIF / COMMUNE.shp Pour info , dans les barres d'outils, les \u00e9toiles jaunes signifient la cr\u00e9ation de nouvelle couche. Dans notre cas, nous souhaitons donc bien l'ajout d'une couche existante. Enregistrer le projet Projet -> Enregistrer sous... et mettez-le dans le dossier data contenant les donn\u00e9es. au format QGIS (extension .qgs ). D\u00e9sormais, l'aide du panneau Explorateur , dans Dossier du projet : Charger A_OSM_RESEAU_ROUTIER / ROUTE.shp Charger F_OSM_VEGETATION / ZONE_VEGETATION.shp Charger H_OSM_ADMINISTRATIF / CHEF_LIEU.shp Charger I_OSM_ZONE_ACTIVITE / PAI_INDUSTRIEL_COMMERCIAL.shp Notons que le glisser/d\u00e9poser fonctionne aussi. Nous pouvons faire un clic droit puis Propri\u00e9t\u00e9s pour ouvrir la configuration de la couche.","title":"Vecteurs"},{"location":"ajout-couches/#encodage","text":"Si il y a des probl\u00e8mes d'accents, dans l'onglet Source , essayer : System , latin1 , ISO 8859-1 , CP-1252 Petites explications sur les encodages : Unicode : jeu de caract\u00e8res cod\u00e9s dit \u00ab universel \u00bb qui permet de remplacer les pages de codes nationales. Comprend un r\u00e9pertoire tr\u00e8s \u00e9tendu de caract\u00e8res compatible avec tous les alphabets. Il est en \u00e9volution constante (une version en juin 2014) avec plus de 100 000 caract\u00e8res. UTF-8 est le codage international le plus utilis\u00e9 (en particulier sur le web) compatible avec Unicode. Il est support\u00e9 par tous les navigateurs web et par tous les syst\u00e8mes d\u2019exploitation r\u00e9cents. L\u2019internationalisation et la portabilit\u00e9 font naturellement recommander ce codage (Permet de repr\u00e9senter des caract\u00e8res qui n\u2019existent pas en latin-1). ISO 8859-1 ou Latin-1 : principalement utilis\u00e9 par Windows pour les pays occidentaux, il int\u00e8gre de nombreux caract\u00e8res sp\u00e9ciaux comme \u00e9, \u00e8, \u00e0, \u00e7, \u00c9, etc, mais pas \u20ac,\u0153. CP-1252 ou WIN 1252 : extension d\u2019ISO 8859-1 ; initi\u00e9 dans les ann\u00e9es 1990, il ajoute quelques caract\u00e8res particuliers \u00e0 Latin-1 comme \u20ac,\u0153, etc. ISO-8859-15 (ou latin9) est \u00e9galement tr\u00e8s proche. Il ajoute au 88959-1 entre autres le caract\u00e8re de l'euro (\u20ac) et les caract\u00e8res \u0152, \u0153 et \u0178 qui manquaient pour l'\u00e9criture du fran\u00e7ais, les caract\u00e8res \u0160 et \u0161 qui manquaient pour l'\u00e9criture du tch\u00e8que. Il enl\u00e8ve en \u00e9change quelques caract\u00e8res peu utilis\u00e9s. Source : http://www.geoinformations.developpement-durable.gouv.fr/qgis-encodage-des-fichiers-shp-et-recommandations-a2908.html","title":"Encodage"},{"location":"ajout-couches/#rasters","text":"","title":"Rasters"},{"location":"ajout-couches/#fichier-mnt","text":"Pour rappel , un fichier MNT veut dire Mod\u00e8le Num\u00e9rique de Terrain, c'est-\u00e0-dire un fichier comportant des informations sur l'altitude. \u00c0 l'aide du bouton Source de donn\u00e9es , ajouter la couche de type Raster contenu dans le dossier srtm .","title":"Fichier MNT"},{"location":"ajout-couches/#wms-de-lign","text":"\u00c0 l'aide du bouton Source de donn\u00e9es , ajouter une connexion WMS : Nom : IGN WMTS URL : https://wxs.ign.fr/decouverte/geoportail/wmts?SERVICE=WMTS&REQUEST=GetCapabilities Ajouter des flux provenant de l'IGN en utilisant cette cl\u00e9 gratuite decouverte . Pour votre information : https://geoservices.ign.fr/services-web","title":"WMS de l'IGN"},{"location":"ajout-couches/#a-laide-dun-plugin","text":"\u00c0 l'aide de l'extension QuickMapServices dans le gestionnaire des extensions Python. L'autre extension historique OpenLayers n'est pas forc\u00e9ment recommand\u00e9e, surtout lors de l'impression. Dans sa configuration, cliquer sur le bouton Obtenir le pack des contributeurs .","title":"\u00c0 l'aide d'un plugin"},{"location":"ajout-couches/#a-laide-du-panneau-explorateur","text":"Une couche de l'IGN Une couche XYZ","title":"\u00c0 l'aide du panneau explorateur"},{"location":"ajout-couches/#manipulation-de-la-legende","text":"Dans le panneau \u00e0 gauche, vous remarquez la l\u00e9gende, avec sa barre d'outils. Ce panneau nous permet de faire plusieurs actions : * r\u00e9ordonner les couches avec un ordre logique : ponctuel, lin\u00e9aire, polygone, raster * masquer/afficher des couches * faire des groupes","title":"Manipulation de la l\u00e9gende"},{"location":"ajout-couches/#utiliser-les-themes-de-couches","text":"Un th\u00e8me de couche est caract\u00e9ris\u00e9 par un nom et permet de sauvegarder : l' \u00e9tat des couches coch\u00e9es dans la l\u00e9gende les styles actifs de chaque couche \u00c9tapes : Cocher/d\u00e9cocher les couches pour obtenir le r\u00e9glage souhait\u00e9 Cliquer sur le bouton \u0153il de la barre d'outil au-dessus du panneau Couches Choisir l'item Ajouter un th\u00e8me Choisir un nom et valider Une fois un ou plusieurs th\u00e8mes enregistr\u00e9s, on peut basculer facilement de l'un \u00e0 autre th\u00e8me via le bouton \u0153il . Les th\u00e8mes peuvent \u00eatre utilis\u00e9s pour g\u00e9rer les couches affich\u00e9es dans chaque vue , ainsi que dans chaque carte de chaque composeur d'impression .","title":"Utiliser les th\u00e8mes de couches"},{"location":"ajout-couches/#les-vues-cartes","text":"QGIS3 propose d'afficher plusieurs canevas, appel\u00e9s vues cartes , au lieu d'une seule carte centrale. Menu Vue / Nouvelle vue cartographique On peut la faire glisser dans l'interface , par exemple dans le panneau de droite Par d\u00e9faut, elle se comporte comme la carte principale : les m\u00eames couches sont visibles","title":"Les vues cartes"},{"location":"ajout-couches/#la-vue-3d","text":"La vue 3D permet de draper des donn\u00e9es vectorielles ou raster par-dessus un mod\u00e8le num\u00e9rique de terrain (MNT) Elle peut aussi repr\u00e9senter des donn\u00e9es qui ont une composante d'altitude (Z).","title":"La vue 3D"},{"location":"ajout-couches/#lextension-layer-board","text":"L'extension Layer Board permet d'obtenir un tableau r\u00e9capitulatif des couches qui sont charg\u00e9es. Observez les diff\u00e9rentes projections.","title":"L'extension Layer Board"},{"location":"ajout-couches/#enregistrer-le-projet","text":"Faire un enregistrement du projet et regarder la taille du fichier. Si le fichier comporte l'extension QGS , v\u00e9rifiez le contenu du fichier. Un projet ne contient aucunes donn\u00e9es g\u00e9ographiques. Les donn\u00e9es g\u00e9ographiques ne sont pas incluses dans le projet en lui-m\u00eame. Ce ne sont que des liens.","title":"Enregistrer le projet"},{"location":"ajout-couches/#utilisation-des-outils","text":"Dans les barres d'outils, chercher les outils suivants : de mesure (longueur, aire, angle) dont l'ic\u00f4ne comporte une petite r\u00e8gle. Notons pour la mesure de longueur et d'aire la possibilit\u00e9 de choisir entre deux options : Cart\u00e9sien , mesure dans le plan X, Y Ellipso\u00efdale , mesure en tenant compte de la rotondit\u00e9 de la Terre d'identification (d'information) afin d'obtenir des informations sur une entit\u00e9. Cela liste les attributs : de la table attributaire et les attributs d\u00e9riv\u00e9s (longueur, surface, coordonn\u00e9es etc) table attributaire : Remarquons que comme dans un tableur, le contenu des cellules est align\u00e9 sur la droite ou sur la gauche : \u00c0 droite, il s'agit des champs num\u00e9riques \u00c0 gauche, les champs qui sont des cha\u00eenes de caract\u00e8res F6 permet d'ouvrir la table attributaire, mais attention aux couches lourdes ! Shift (Maj) + F6 , S hift comme s\u00e9lection pour ouvrir que les entit\u00e9s s\u00e9lectionn\u00e9es Ctrl + F6 pour les entit\u00e9s visibles s\u00e9lection graphique sur la carte : au clic-clic ou un rectangle polygone, main lev\u00e9, rayon utilisation de shift pour faire une s\u00e9lection multiple Astuce pour une s\u00e9lection des points intersectant un polygone Avec une couche ponctuelle et polygonale : S\u00e9lectionner la couche de point dans la l\u00e9gende Utilisez l'outil de s\u00e9lection graphique par polygone Clic-droit sur un polygone Dans le menu contextuel, choisir la couche polygonale L'ensemble des points intersectant le polygone en question est s\u00e9lectionn\u00e9 s\u00e9lection par valeur qui permet de faire de s\u00e9lections selon des crit\u00e8res dans la table attributaire, de mani\u00e8re interactive . Plusieurs modes de s\u00e9lections sont possibles.","title":"Utilisation des outils"},{"location":"autres/","text":"Autres # La barre de recherche: # QGIS3 propose un nouvel outil de recherche par autocompl\u00e9tion int\u00e9gr\u00e9 dans la barre de statut, en bas \u00e0 gauche . QGIS permet de rechercher parmi : Actions Calculatrice Algorithmes de traitement Entit\u00e9s dans toutes les couches Signets spatiaux Modifier les entit\u00e9s s\u00e9lectionn\u00e9es Entit\u00e9s de la couche s\u00e9lectionn\u00e9e Couches du projet Composeurs du projet Param\u00e8tres Dans les propri\u00e9t\u00e9s de QGIS : La recherche dans les entit\u00e9s de couche ne montre des r\u00e9sultats que sur le champ d'affichage . Dans les propri\u00e9t\u00e9s de la couche, onglet Affichage On lance la recherche via CTRL+K ou en cliquant dans le champ, puis on peut taper un code pour filtrer la recherche (ex : af), et enfin le terme recherch\u00e9 . On valide avec Entr\u00e9e pour afficher l'item trouv\u00e9.","title":"Autres"},{"location":"autres/#autres","text":"","title":"Autres"},{"location":"autres/#la-barre-de-recherche","text":"QGIS3 propose un nouvel outil de recherche par autocompl\u00e9tion int\u00e9gr\u00e9 dans la barre de statut, en bas \u00e0 gauche . QGIS permet de rechercher parmi : Actions Calculatrice Algorithmes de traitement Entit\u00e9s dans toutes les couches Signets spatiaux Modifier les entit\u00e9s s\u00e9lectionn\u00e9es Entit\u00e9s de la couche s\u00e9lectionn\u00e9e Couches du projet Composeurs du projet Param\u00e8tres Dans les propri\u00e9t\u00e9s de QGIS : La recherche dans les entit\u00e9s de couche ne montre des r\u00e9sultats que sur le champ d'affichage . Dans les propri\u00e9t\u00e9s de la couche, onglet Affichage On lance la recherche via CTRL+K ou en cliquant dans le champ, puis on peut taper un code pour filtrer la recherche (ex : af), et enfin le terme recherch\u00e9 . On valide avec Entr\u00e9e pour afficher l'item trouv\u00e9.","title":"La barre de recherche:"},{"location":"couche-virtuelle/","text":"Faire une couche virtuelle # \u00c0 partir de la couche commune, surfacique, nous souhaitons obtenir une couche ponctuelle. Requ\u00eate SQL : SELECT * , st_centroid(geometry) as geom FROM communes","title":"Couche virtuelle"},{"location":"couche-virtuelle/#faire-une-couche-virtuelle","text":"\u00c0 partir de la couche commune, surfacique, nous souhaitons obtenir une couche ponctuelle. Requ\u00eate SQL : SELECT * , st_centroid(geometry) as geom FROM communes","title":"Faire une couche virtuelle"},{"location":"etiquettes/","text":"Les \u00e9tiquettes # Rappel des fonctionnalit\u00e9s # Documentation : https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/vector_properties.html#labels-properties QGIS3 pr\u00e9sente une interface unifi\u00e9e qui liste toutes les options accessibles dans une seule fen\u00eatre dans l'onglet \u00c9tiquettes des propri\u00e9t\u00e9s de la couche vecteur : un aper\u00e7u du rendu de l\u2019\u00e9tiquette une liste de sous-onglets pour configurer finement les options Nous allons faire un \u00e9tiquetage simple sur la couche communes : Se rendre dans l'onglet \u00c9tiquettes dans les propri\u00e9t\u00e9s de la couche vecteur : Choisir : \u00c9tiquettes simples \u00c9tiquetter avec le nom du champ que l'on souhaite afficher. Choisir une taille de police adapt\u00e9e Ajouter une petite zone tampon (un lis\u00e9r\u00e9 blanc) D\u00e9finir des seuils de visibilit\u00e9s dans l'onglet Rendu . Le moteur d\u2019\u00e9tiquetage de QGIS est riche en fonctionnalit\u00e9s. L\u2019interface regroupe les diff\u00e9rentes options par th\u00e8mes : Texte : Police, Taille, casse, etc. Formatage : Retour \u00e0 la ligne, alignement, formatage des nombres d\u00e9cimaux Tampon : taille, couleur, transparence Arri\u00e8re-plan : Ajout de n\u2019importe quel fond derriere l\u2019\u00e9tiquette (forme, SVG, etc.) + param\u00e9trage fin Ombre : D\u00e9finition d\u2019un ombrage (position, d\u00e9calage, transparence, etc.) Connecteurs : permet de g\u00e9n\u00e9rer une fl\u00e8che entre le point g\u00e9ographique et l'\u00e9tiquette quand ils sont \u00e9loign\u00e9s Position : en fonction du type (polygone, lignes, points), Position et rotation via des colonnes, priorit\u00e9 Rendu : seuils d\u2019\u00e9chelle, param\u00e8tres avanc\u00e9s Certaines options sont sp\u00e9cifiques pour une g\u00e9om\u00e9trie. Chaque param\u00e8tre de la configuration peut soit : \u00eatre choisi de mani\u00e8re classique parmi les choix propos\u00e9s \u00eatre dynamique via le choix d\u2019un attribut ou d\u2019une expression Quand une ic\u00f4ne est jaune, cela veut dire que le contr\u00f4le par les donn\u00e9es est actif. Le param\u00e8tre dans l'interface graphique peut ne pas \u00eatre pris en compte, car il est peut-\u00eatre surcharg\u00e9 au niveau de l'entit\u00e9. Il est possible de d\u00e9sactiver en faisant un clic-droit sur une propri\u00e9t\u00e9 en jaune. Le d\u00e9placement manuel des \u00e9tiquettes # QGIS3 permet maintenant de d\u00e9placer les \u00e9tiquettes manuellement sans avoir besoin de cr\u00e9er de couches sp\u00e9cifiques, ou d'utiliser le plugin Easy Custom Labelling Notes Un d\u00e9placement manuel d'\u00e9tiquette n'est valable que pour une \u00e9chelle fixe ! Compacter d'abord les \u00e9tiquettes: wordwrap(\"NOM\", 13, '-') Il faut absolument une cl\u00e9 primaire de type entier comme identifiant unique \u00c9tapes Pour g\u00e9rer le d\u00e9placement, il faut utiliser la barre d'outils \u00c9tiquettes Choisir l' \u00e9chelle Cocher Mettre en surbrillance les \u00c9tiquettes et les Diagrammes \u00e9pingl\u00e9s Cocher l'outil D\u00e9placer les \u00c9tiquettes et les Diagrammes Au 1er clic sur la carte, une fen\u00eatre demande de choisir l' identifiant unique de la couche Vous pouvez ensuite utiliser cet outil D\u00e9placer les \u00e9tiquettes et les diagrammes en cliquant sur l'\u00e9tiquette et en la faisant glisser \u00e0 l'endroit d\u00e9sir\u00e9 . Les \u00e9tiquettes d\u00e9plac\u00e9es apparaissent avec un fond bleu D'autres outils permettent de tracer un rectangle autour des entit\u00e9s choisies et \u00e9pingler/d\u00e9s\u00e9pingler les \u00e9tiquettes : on les r\u00e9initialise, masquer/afficher les \u00e9tiquettes : ic\u00f4ne \u0153il On peut aussi manuellement pivoter chaque \u00e9tiquette ou modifier toutes les propri\u00e9t\u00e9s d'une \u00e9tiquette. Les donn\u00e9es sont enregistr\u00e9es dans l'archive du projet QGZ , pour chaque couche. On peut voir les param\u00e8tres dans les propri\u00e9t\u00e9s de la couche, onglet Stockage auxiliaire . Utilisation d'une expression pour construire l'\u00e9tiquette # Par d\u00e9faut, nous avons utilis\u00e9 un champ de notre attributaire pour construire notre \u00e9tiquette. Nous souhaiterions d\u00e9sormais vouloir \u00e9tiqueter en utilisant deux champs : le nom de la commune ET son code INSEE. Il faut d\u00e9sormais utiliser le petit epsilon violet, qui comme vu dans la pr\u00e9sentation de l'interface fait r\u00e9f\u00e9rence \u00e0 la notion des expressions . Pour afficher le nom de la commune avec le code INSEE Attention aux diff\u00e9rents op\u00e9rateurs + , || et concat() qui permettent tous de concat\u00e9ner des cha\u00eenes, mais attention aux valeurs NULL et aux valeurs math\u00e9matiques. On recommande concat bien qu'elle soit un peu plus complexe. Solution concat(\"NOM\", '\\n', \"CODE_INSEE\") afficher une information calcul\u00e9e \u00e0 la vol\u00e9e, comme la superficie de la commune en km\u00b2 : La superficie en anglais se dit area . La projection de la couche est actuellement en m, donc la surface est en m\u00b2. Solution partielle $area / 1000000 Solution finale concat(\"NOM\", '\\n', round($area / 1000000, 2), ' km\u00b2') changer pour afficher la densit\u00e9 de population Solution concat(\"NOM\", '\\n', round(\"POPULATION\" / ($area / 1000000, 2)), ' hab/km\u00b2')","title":"\u00c9tiquettes"},{"location":"etiquettes/#les-etiquettes","text":"","title":"Les \u00e9tiquettes"},{"location":"etiquettes/#rappel-des-fonctionnalites","text":"Documentation : https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/vector_properties.html#labels-properties QGIS3 pr\u00e9sente une interface unifi\u00e9e qui liste toutes les options accessibles dans une seule fen\u00eatre dans l'onglet \u00c9tiquettes des propri\u00e9t\u00e9s de la couche vecteur : un aper\u00e7u du rendu de l\u2019\u00e9tiquette une liste de sous-onglets pour configurer finement les options Nous allons faire un \u00e9tiquetage simple sur la couche communes : Se rendre dans l'onglet \u00c9tiquettes dans les propri\u00e9t\u00e9s de la couche vecteur : Choisir : \u00c9tiquettes simples \u00c9tiquetter avec le nom du champ que l'on souhaite afficher. Choisir une taille de police adapt\u00e9e Ajouter une petite zone tampon (un lis\u00e9r\u00e9 blanc) D\u00e9finir des seuils de visibilit\u00e9s dans l'onglet Rendu . Le moteur d\u2019\u00e9tiquetage de QGIS est riche en fonctionnalit\u00e9s. L\u2019interface regroupe les diff\u00e9rentes options par th\u00e8mes : Texte : Police, Taille, casse, etc. Formatage : Retour \u00e0 la ligne, alignement, formatage des nombres d\u00e9cimaux Tampon : taille, couleur, transparence Arri\u00e8re-plan : Ajout de n\u2019importe quel fond derriere l\u2019\u00e9tiquette (forme, SVG, etc.) + param\u00e9trage fin Ombre : D\u00e9finition d\u2019un ombrage (position, d\u00e9calage, transparence, etc.) Connecteurs : permet de g\u00e9n\u00e9rer une fl\u00e8che entre le point g\u00e9ographique et l'\u00e9tiquette quand ils sont \u00e9loign\u00e9s Position : en fonction du type (polygone, lignes, points), Position et rotation via des colonnes, priorit\u00e9 Rendu : seuils d\u2019\u00e9chelle, param\u00e8tres avanc\u00e9s Certaines options sont sp\u00e9cifiques pour une g\u00e9om\u00e9trie. Chaque param\u00e8tre de la configuration peut soit : \u00eatre choisi de mani\u00e8re classique parmi les choix propos\u00e9s \u00eatre dynamique via le choix d\u2019un attribut ou d\u2019une expression Quand une ic\u00f4ne est jaune, cela veut dire que le contr\u00f4le par les donn\u00e9es est actif. Le param\u00e8tre dans l'interface graphique peut ne pas \u00eatre pris en compte, car il est peut-\u00eatre surcharg\u00e9 au niveau de l'entit\u00e9. Il est possible de d\u00e9sactiver en faisant un clic-droit sur une propri\u00e9t\u00e9 en jaune.","title":"Rappel des fonctionnalit\u00e9s"},{"location":"etiquettes/#le-deplacement-manuel-des-etiquettes","text":"QGIS3 permet maintenant de d\u00e9placer les \u00e9tiquettes manuellement sans avoir besoin de cr\u00e9er de couches sp\u00e9cifiques, ou d'utiliser le plugin Easy Custom Labelling Notes Un d\u00e9placement manuel d'\u00e9tiquette n'est valable que pour une \u00e9chelle fixe ! Compacter d'abord les \u00e9tiquettes: wordwrap(\"NOM\", 13, '-') Il faut absolument une cl\u00e9 primaire de type entier comme identifiant unique \u00c9tapes Pour g\u00e9rer le d\u00e9placement, il faut utiliser la barre d'outils \u00c9tiquettes Choisir l' \u00e9chelle Cocher Mettre en surbrillance les \u00c9tiquettes et les Diagrammes \u00e9pingl\u00e9s Cocher l'outil D\u00e9placer les \u00c9tiquettes et les Diagrammes Au 1er clic sur la carte, une fen\u00eatre demande de choisir l' identifiant unique de la couche Vous pouvez ensuite utiliser cet outil D\u00e9placer les \u00e9tiquettes et les diagrammes en cliquant sur l'\u00e9tiquette et en la faisant glisser \u00e0 l'endroit d\u00e9sir\u00e9 . Les \u00e9tiquettes d\u00e9plac\u00e9es apparaissent avec un fond bleu D'autres outils permettent de tracer un rectangle autour des entit\u00e9s choisies et \u00e9pingler/d\u00e9s\u00e9pingler les \u00e9tiquettes : on les r\u00e9initialise, masquer/afficher les \u00e9tiquettes : ic\u00f4ne \u0153il On peut aussi manuellement pivoter chaque \u00e9tiquette ou modifier toutes les propri\u00e9t\u00e9s d'une \u00e9tiquette. Les donn\u00e9es sont enregistr\u00e9es dans l'archive du projet QGZ , pour chaque couche. On peut voir les param\u00e8tres dans les propri\u00e9t\u00e9s de la couche, onglet Stockage auxiliaire .","title":"Le d\u00e9placement manuel des \u00e9tiquettes"},{"location":"etiquettes/#utilisation-dune-expression-pour-construire-letiquette","text":"Par d\u00e9faut, nous avons utilis\u00e9 un champ de notre attributaire pour construire notre \u00e9tiquette. Nous souhaiterions d\u00e9sormais vouloir \u00e9tiqueter en utilisant deux champs : le nom de la commune ET son code INSEE. Il faut d\u00e9sormais utiliser le petit epsilon violet, qui comme vu dans la pr\u00e9sentation de l'interface fait r\u00e9f\u00e9rence \u00e0 la notion des expressions . Pour afficher le nom de la commune avec le code INSEE Attention aux diff\u00e9rents op\u00e9rateurs + , || et concat() qui permettent tous de concat\u00e9ner des cha\u00eenes, mais attention aux valeurs NULL et aux valeurs math\u00e9matiques. On recommande concat bien qu'elle soit un peu plus complexe. Solution concat(\"NOM\", '\\n', \"CODE_INSEE\") afficher une information calcul\u00e9e \u00e0 la vol\u00e9e, comme la superficie de la commune en km\u00b2 : La superficie en anglais se dit area . La projection de la couche est actuellement en m, donc la surface est en m\u00b2. Solution partielle $area / 1000000 Solution finale concat(\"NOM\", '\\n', round($area / 1000000, 2), ' km\u00b2') changer pour afficher la densit\u00e9 de population Solution concat(\"NOM\", '\\n', round(\"POPULATION\" / ($area / 1000000, 2)), ' hab/km\u00b2')","title":"Utilisation d'une expression pour construire l'\u00e9tiquette"},{"location":"exercices/","text":"Th\u00e9or\u00e8me des quatre couleurs # https://fr.wikipedia.org/wiki/Th%C3%A9or%C3%A8me_des_quatre_couleurs Extrait de Wikip\u00e9dia: Le th\u00e9or\u00e8me des quatre couleurs indique qu'il est possible, en n'utilisant que quatre couleurs diff\u00e9rentes, de colorier n'importe quelle carte d\u00e9coup\u00e9e en r\u00e9gions connexes, de sorte que deux r\u00e9gions adjacentes (ou limitrophes), c'est-\u00e0-dire ayant toute une fronti\u00e8re (et non simplement un point) en commun re\u00e7oivent toujours deux couleurs distinctes. Objectif # Ajouter \u00e0 une couche existante les informations pour r\u00e9aliser ce genre cartographique : Finalement, nous ne souhaitons pas une nouvelle couche.","title":"Exercices"},{"location":"exercices/#theoreme-des-quatre-couleurs","text":"https://fr.wikipedia.org/wiki/Th%C3%A9or%C3%A8me_des_quatre_couleurs Extrait de Wikip\u00e9dia: Le th\u00e9or\u00e8me des quatre couleurs indique qu'il est possible, en n'utilisant que quatre couleurs diff\u00e9rentes, de colorier n'importe quelle carte d\u00e9coup\u00e9e en r\u00e9gions connexes, de sorte que deux r\u00e9gions adjacentes (ou limitrophes), c'est-\u00e0-dire ayant toute une fronti\u00e8re (et non simplement un point) en commun re\u00e7oivent toujours deux couleurs distinctes.","title":"Th\u00e9or\u00e8me des quatre couleurs"},{"location":"exercices/#objectif","text":"Ajouter \u00e0 une couche existante les informations pour r\u00e9aliser ce genre cartographique : Finalement, nous ne souhaitons pas une nouvelle couche.","title":"Objectif"},{"location":"expressions/","text":"Les expressions # Les expressions sont omnipr\u00e9sentes dans QGIS. Il est important de les ma\u00eetriser un minimum si vous voulez pleinement exploiter QGIS. Nommage d'une entit\u00e9 # Dans les propri\u00e9t\u00e9s de la couche vecteur, onglet Infobulle , il est bon de param\u00e9trer comme QGIS doit composer le nom d'une entit\u00e9. Par exemple, sur une couche commune, on peut mettre le nom du champ : \u00e0 l'aide du menu d\u00e9roulant, on peut choisir le nom d'un champ, NOM_COM . en cliquant sur l'epsilon violet, on arrive dans la fen\u00eatre des expressions de QGIS : Effacer le contenu \u00e0 gauche Dans le panneau du milieu, aller dans Champs et Valeurs et double-cliquer sur le nom du champ NOM_COM . Remarquer l'ajout dans le panneau \u00e0 gauche de l'expression suivante \"NOM_COM\" . Cliquer sur OK Cette expression est \u00e9quivalente \u00e0 la premi\u00e8re, mais elle est plus correcte syntaxiquement. Il faut retenir que le nom des champs sont entre guillemet double \"\" . retournons dans la fen\u00eatre des expressions. Nous souhaitons dor\u00e9navant afficher le nom de la commune, la cha\u00eene de caract\u00e8re : et le code INSEE de la commune. Effacer le contenu \u00e0 gauche Dans le panneau du milieu, aller dans Champs et Valeurs et double-cliquer sur le nom du champ NOM_COM . Contrairement aux noms des champs qui sont entre guillemet double \"\" , les cha\u00eenes de caract\u00e8res sont entre guillemet simple '' Pour concat\u00e9ner, on peut utiliser || , + ou la fonction concat() Une solution possible concat(\"NOM_COM\", ' : ', \"INSEE_COM\") Les infobulles # Similaire \u00e0 la section pr\u00e9c\u00e9dente, on peut d\u00e9finir l'infobulle. On utilise cette fois-ci du HTML pour la mise en forme. Pour activer les infobulles sur la carte, menu Vue \u25b6 Afficher les infobulles . Puis retourner dans les propri\u00e9t\u00e9s de la couche vecteur, onglet Infobulle . Rappel succinct sur du HTML pour faire une liste \u00e0 puce : 1 2 3 4 5 6 7 8 < h3 > Titre </ h3 > < p > Paragraphe </ p > < ul > < li > Une </ li > < li > liste </ li > < li > \u00e0 </ li > < li > puce </ li > </ ul > Les balises <h1></h1> , <h2></h2> , <hX></hX> repr\u00e9sentent des titres, en commen\u00e7ant par le plus important. En anglais header . <p></p> est un paragraphe <ul></ul> est une liste \u00e0 puce non ordonn\u00e9e. En anglais unordered list . <ol></ol> est une liste ordonn\u00e9e. En anglais ordered list . <li></li> est un \u00e9l\u00e9ment dans une liste. En anglais list item . Il est possible de personnaliser l'affichage de l'infobulle \u00e0 l'aide de CSS. Exemple d'une infobulle QGIS : 1 2 3 4 5 < ul > < li > [% \"NOM_COM\" %] </ li > < li > [% \"INSEE_COM\" %] </ li > < li > [% \"NOM_DEP\" %] </ li > </ ul > [% ... %] permet \u00e0 QGIS de reconna\u00eetre qu'il s'agit d'une expression qu'il faut \u00e9valuer au sein d'un autre bloc de texte. Requ\u00eatage sur une couche vecteur # La couche commune comporte de nombreuses entit\u00e9s. On peut le voir graphiquement sur le canevas de la carte, mais aussi en ouvrant sa table attributaire. Pensez-bien \u00e0 s\u00e9lectionner votre couche dans la l\u00e9gende. Cela active ou non les actions dans la barre d'outils ci-dessus. \u00c0 l'aide de l'outil Identifier les entit\u00e9s dans la barre d'outils, faire un clic sur une entit\u00e9. Un nouveau panneau s'ouvre pr\u00e9sentant les r\u00e9sultats. Depuis cette barre d'outils, ouvrir la table attributaire . Comme dans un tableur, les donn\u00e9es textes sont \u00e0 gauche, les donn\u00e9es num\u00e9riques sont \u00e0 droite. Faire le tour de cette nouvelle bo\u00eete de dialogue. Pour info , le jaune dans les ic\u00f4nes repr\u00e9sente tr\u00e8s souvent la notion de s\u00e9lection dans QGIS. Utilisons l'outil de s\u00e9lection \u00e0 l'aide de la souris et affichons les entit\u00e9s s\u00e9lectionn\u00e9es dans la table. Utilisons l'ic\u00f4ne avec un carr\u00e9 jaune et un epsilon (le \u03b5 ) afin de construire une expression de s\u00e9lection. Cette ic\u00f4ne se trouve dans la barre d'outils ci-dessus de la fen\u00eatre principale ou dans la nouvelle fen\u00eatre de la table attributaire. On souhaite pouvoir s\u00e9lectionner le(s) entit\u00e9(s) qui r\u00e9pondent au crit\u00e8re \"CODE_INSEE\" = '70550' , pour cela utiliser l'interface graphique afin de construire la requ\u00eate. Que remarquons-nous sur la structure de l'expression ? Les nomS des champs sont entre \"\" Les cha\u00eenes de caract\u00e8res dans les cellules sont entre '' . On souhaite d\u00e9sormais toutes les communes dont : le code INSEE commence par 70 \u00e0 l'aide de l'op\u00e9rateur like : Le pourcentage permet de faire un caract\u00e8re \"joker\" rempla\u00e7ant n'importe quelle cha\u00eene de caract\u00e8res Solution : \"CODE_INSEE\" like '70%' la population est inf\u00e9rieure \u00e0 1000 habitants : Les populations sont au format texte et non nombre entier : to_int Solution : to_int( \"POPUL\" ) < 1000 les communes du 70 et du 25 les trois communes Enregistrer le r\u00e9sultat d'une s\u00e9lection en tant que nouvelle couche # On peut enregistrer la s\u00e9lection de la commune dans une nouvelle couche de donn\u00e9es en faisant un clic-droit sur la couche puis Exporter . Choisir un format pour l'export, par exemple ESRI Shapefile . On peut aussi choisir de faire une reprojection des donn\u00e9es. Danger Attention , dans la fen\u00eatre pour exporter les entit\u00e9s, toujours utiliser les trois petits points lors de la saisie du nom de fichier ! La table attributaire : mise en forme conditionnelle # Pour retrouver plus facilement des objets dans une grande table attributaire, on peut utiliser la fonctionnalit\u00e9 de QGIS de mise en forme conditionnelle des champs ou des lignes de la table. Le principe est de fournir une ou plusieurs r\u00e8gles , via une expression QGIS , et d'y associer un style de champ ou de ligne. Par exemple @value LIKE 'A%' Calculatrice de champ # La calculatrice de champ est un outil accessible avec le boulier dans la fen\u00eatre de la table attributaire. Il permet la mise \u00e0 jour d'un champ existant ou alors de cr\u00e9er un nouveau champ. Pour toutes modifications d'une couche vecteur , on doit se placer dans une session d'\u00e9dition, \u00e0 l'aide du petit stylo dans la barre d'outils Num\u00e9risation ou dans la fen\u00eatre de la table attributaire. Panneau statistique # Dans la barre d'outils Attributs , il existe un outil de statistiques sur un champ. Il fonctionne \u00e0 l'aide d'une couche vecteur en entr\u00e9e ainsi que d'un champ de cette couche ou une expression.","title":"Expressions"},{"location":"expressions/#les-expressions","text":"Les expressions sont omnipr\u00e9sentes dans QGIS. Il est important de les ma\u00eetriser un minimum si vous voulez pleinement exploiter QGIS.","title":"Les expressions"},{"location":"expressions/#nommage-dune-entite","text":"Dans les propri\u00e9t\u00e9s de la couche vecteur, onglet Infobulle , il est bon de param\u00e9trer comme QGIS doit composer le nom d'une entit\u00e9. Par exemple, sur une couche commune, on peut mettre le nom du champ : \u00e0 l'aide du menu d\u00e9roulant, on peut choisir le nom d'un champ, NOM_COM . en cliquant sur l'epsilon violet, on arrive dans la fen\u00eatre des expressions de QGIS : Effacer le contenu \u00e0 gauche Dans le panneau du milieu, aller dans Champs et Valeurs et double-cliquer sur le nom du champ NOM_COM . Remarquer l'ajout dans le panneau \u00e0 gauche de l'expression suivante \"NOM_COM\" . Cliquer sur OK Cette expression est \u00e9quivalente \u00e0 la premi\u00e8re, mais elle est plus correcte syntaxiquement. Il faut retenir que le nom des champs sont entre guillemet double \"\" . retournons dans la fen\u00eatre des expressions. Nous souhaitons dor\u00e9navant afficher le nom de la commune, la cha\u00eene de caract\u00e8re : et le code INSEE de la commune. Effacer le contenu \u00e0 gauche Dans le panneau du milieu, aller dans Champs et Valeurs et double-cliquer sur le nom du champ NOM_COM . Contrairement aux noms des champs qui sont entre guillemet double \"\" , les cha\u00eenes de caract\u00e8res sont entre guillemet simple '' Pour concat\u00e9ner, on peut utiliser || , + ou la fonction concat() Une solution possible concat(\"NOM_COM\", ' : ', \"INSEE_COM\")","title":"Nommage d'une entit\u00e9"},{"location":"expressions/#les-infobulles","text":"Similaire \u00e0 la section pr\u00e9c\u00e9dente, on peut d\u00e9finir l'infobulle. On utilise cette fois-ci du HTML pour la mise en forme. Pour activer les infobulles sur la carte, menu Vue \u25b6 Afficher les infobulles . Puis retourner dans les propri\u00e9t\u00e9s de la couche vecteur, onglet Infobulle . Rappel succinct sur du HTML pour faire une liste \u00e0 puce : 1 2 3 4 5 6 7 8 < h3 > Titre </ h3 > < p > Paragraphe </ p > < ul > < li > Une </ li > < li > liste </ li > < li > \u00e0 </ li > < li > puce </ li > </ ul > Les balises <h1></h1> , <h2></h2> , <hX></hX> repr\u00e9sentent des titres, en commen\u00e7ant par le plus important. En anglais header . <p></p> est un paragraphe <ul></ul> est une liste \u00e0 puce non ordonn\u00e9e. En anglais unordered list . <ol></ol> est une liste ordonn\u00e9e. En anglais ordered list . <li></li> est un \u00e9l\u00e9ment dans une liste. En anglais list item . Il est possible de personnaliser l'affichage de l'infobulle \u00e0 l'aide de CSS. Exemple d'une infobulle QGIS : 1 2 3 4 5 < ul > < li > [% \"NOM_COM\" %] </ li > < li > [% \"INSEE_COM\" %] </ li > < li > [% \"NOM_DEP\" %] </ li > </ ul > [% ... %] permet \u00e0 QGIS de reconna\u00eetre qu'il s'agit d'une expression qu'il faut \u00e9valuer au sein d'un autre bloc de texte.","title":"Les infobulles"},{"location":"expressions/#requetage-sur-une-couche-vecteur","text":"La couche commune comporte de nombreuses entit\u00e9s. On peut le voir graphiquement sur le canevas de la carte, mais aussi en ouvrant sa table attributaire. Pensez-bien \u00e0 s\u00e9lectionner votre couche dans la l\u00e9gende. Cela active ou non les actions dans la barre d'outils ci-dessus. \u00c0 l'aide de l'outil Identifier les entit\u00e9s dans la barre d'outils, faire un clic sur une entit\u00e9. Un nouveau panneau s'ouvre pr\u00e9sentant les r\u00e9sultats. Depuis cette barre d'outils, ouvrir la table attributaire . Comme dans un tableur, les donn\u00e9es textes sont \u00e0 gauche, les donn\u00e9es num\u00e9riques sont \u00e0 droite. Faire le tour de cette nouvelle bo\u00eete de dialogue. Pour info , le jaune dans les ic\u00f4nes repr\u00e9sente tr\u00e8s souvent la notion de s\u00e9lection dans QGIS. Utilisons l'outil de s\u00e9lection \u00e0 l'aide de la souris et affichons les entit\u00e9s s\u00e9lectionn\u00e9es dans la table. Utilisons l'ic\u00f4ne avec un carr\u00e9 jaune et un epsilon (le \u03b5 ) afin de construire une expression de s\u00e9lection. Cette ic\u00f4ne se trouve dans la barre d'outils ci-dessus de la fen\u00eatre principale ou dans la nouvelle fen\u00eatre de la table attributaire. On souhaite pouvoir s\u00e9lectionner le(s) entit\u00e9(s) qui r\u00e9pondent au crit\u00e8re \"CODE_INSEE\" = '70550' , pour cela utiliser l'interface graphique afin de construire la requ\u00eate. Que remarquons-nous sur la structure de l'expression ? Les nomS des champs sont entre \"\" Les cha\u00eenes de caract\u00e8res dans les cellules sont entre '' . On souhaite d\u00e9sormais toutes les communes dont : le code INSEE commence par 70 \u00e0 l'aide de l'op\u00e9rateur like : Le pourcentage permet de faire un caract\u00e8re \"joker\" rempla\u00e7ant n'importe quelle cha\u00eene de caract\u00e8res Solution : \"CODE_INSEE\" like '70%' la population est inf\u00e9rieure \u00e0 1000 habitants : Les populations sont au format texte et non nombre entier : to_int Solution : to_int( \"POPUL\" ) < 1000 les communes du 70 et du 25 les trois communes","title":"Requ\u00eatage sur une couche vecteur"},{"location":"expressions/#enregistrer-le-resultat-dune-selection-en-tant-que-nouvelle-couche","text":"On peut enregistrer la s\u00e9lection de la commune dans une nouvelle couche de donn\u00e9es en faisant un clic-droit sur la couche puis Exporter . Choisir un format pour l'export, par exemple ESRI Shapefile . On peut aussi choisir de faire une reprojection des donn\u00e9es. Danger Attention , dans la fen\u00eatre pour exporter les entit\u00e9s, toujours utiliser les trois petits points lors de la saisie du nom de fichier !","title":"Enregistrer le r\u00e9sultat d'une s\u00e9lection en tant que nouvelle couche"},{"location":"expressions/#la-table-attributaire-mise-en-forme-conditionnelle","text":"Pour retrouver plus facilement des objets dans une grande table attributaire, on peut utiliser la fonctionnalit\u00e9 de QGIS de mise en forme conditionnelle des champs ou des lignes de la table. Le principe est de fournir une ou plusieurs r\u00e8gles , via une expression QGIS , et d'y associer un style de champ ou de ligne. Par exemple @value LIKE 'A%'","title":"La table attributaire : mise en forme conditionnelle"},{"location":"expressions/#calculatrice-de-champ","text":"La calculatrice de champ est un outil accessible avec le boulier dans la fen\u00eatre de la table attributaire. Il permet la mise \u00e0 jour d'un champ existant ou alors de cr\u00e9er un nouveau champ. Pour toutes modifications d'une couche vecteur , on doit se placer dans une session d'\u00e9dition, \u00e0 l'aide du petit stylo dans la barre d'outils Num\u00e9risation ou dans la fen\u00eatre de la table attributaire.","title":"Calculatrice de champ"},{"location":"expressions/#panneau-statistique","text":"Dans la barre d'outils Attributs , il existe un outil de statistiques sur un champ. Il fonctionne \u00e0 l'aide d'une couche vecteur en entr\u00e9e ainsi que d'un champ de cette couche ou une expression.","title":"Panneau statistique"},{"location":"extensions/","text":"Les extensions # QGIS, par d\u00e9faut permet beaucoup de fonctionnalit\u00e9s. Mais il est possible de rajouter des fonctionnalit\u00e9s suppl\u00e9mentaires en y installant des extensions. On acc\u00e8de au gestionnaire des extensions en faisant Extensions \u25b6 Installer/G\u00e9rer les extensions . Avant m\u00eame d'ajouter des extensions, notons que certaines extensions sont d\u00e9j\u00e0 install\u00e9es ! Il s'agit des extensions natives \u00e0 QGIS d\u00e9sormais. Veillez \u00e0 les garder activ\u00e9s ! Les extensions natives indispensables sont : Processing DBManager Voici une liste, non exhaustive, des extensions qui peuvent \u00eatre int\u00e9ressantes : AutoSaver , pour enregistrer automatiquement son projet \u00e0 interval de temps r\u00e9gulier QuickMapServices , acc\u00e9der \u00e0 des fonds de carte. Pensez \u00e0 aller dans les settings de l'extension \u25b6 More services \u25b6 Get contributed pack . Cela permet d'avoir des fonds suppl\u00e9mentaires. Notons les fonds suivants qui peuvent \u00eatre int\u00e9ressant (et l\u00e9gaux avec une simple attribution): Les fonds Stamen avec Toner . Le fond Watercolor pour l'esth\u00e9tisme. Les fonds OSM avec Humanitarian , Monochrome , OpenTopoMap ... Les fonds Mapsurfer DataPlotLy , permet de faire des graphiques dans l'interface principale et aussi de les exporter dans les PDF Layer Board , petit plugin pour avoir une vue d'ensemble des couches : les diff\u00e9rentes projections, les encodages etc. Il faut \u00e9crire Layer board avec un espace pour le trouver. QGIS Resources Sharing , permet d'acc\u00e9der \u00e0 des librairies de styles, ic\u00f4nes etc QuickOSM , pour t\u00e9l\u00e9charger localement de la donn\u00e9e OSM French locator filter , pour faire de la saisie d'une adresse en utilisant https://geo.api.gouv.fr/adresse Spreadsheet Layers , m\u00eame si QGIS permet efficacement d'ouvrir un fichier ODS ou XLS et de pouvoir s\u00e9lectionner une feuille en particulier, il est parfois int\u00e9ressant d'utiliser cette extension Partage de style # Avec le QGIS Resources Sharing, il existe le style hub pour t\u00e9l\u00e9charger des styles.","title":"Extensions"},{"location":"extensions/#les-extensions","text":"QGIS, par d\u00e9faut permet beaucoup de fonctionnalit\u00e9s. Mais il est possible de rajouter des fonctionnalit\u00e9s suppl\u00e9mentaires en y installant des extensions. On acc\u00e8de au gestionnaire des extensions en faisant Extensions \u25b6 Installer/G\u00e9rer les extensions . Avant m\u00eame d'ajouter des extensions, notons que certaines extensions sont d\u00e9j\u00e0 install\u00e9es ! Il s'agit des extensions natives \u00e0 QGIS d\u00e9sormais. Veillez \u00e0 les garder activ\u00e9s ! Les extensions natives indispensables sont : Processing DBManager Voici une liste, non exhaustive, des extensions qui peuvent \u00eatre int\u00e9ressantes : AutoSaver , pour enregistrer automatiquement son projet \u00e0 interval de temps r\u00e9gulier QuickMapServices , acc\u00e9der \u00e0 des fonds de carte. Pensez \u00e0 aller dans les settings de l'extension \u25b6 More services \u25b6 Get contributed pack . Cela permet d'avoir des fonds suppl\u00e9mentaires. Notons les fonds suivants qui peuvent \u00eatre int\u00e9ressant (et l\u00e9gaux avec une simple attribution): Les fonds Stamen avec Toner . Le fond Watercolor pour l'esth\u00e9tisme. Les fonds OSM avec Humanitarian , Monochrome , OpenTopoMap ... Les fonds Mapsurfer DataPlotLy , permet de faire des graphiques dans l'interface principale et aussi de les exporter dans les PDF Layer Board , petit plugin pour avoir une vue d'ensemble des couches : les diff\u00e9rentes projections, les encodages etc. Il faut \u00e9crire Layer board avec un espace pour le trouver. QGIS Resources Sharing , permet d'acc\u00e9der \u00e0 des librairies de styles, ic\u00f4nes etc QuickOSM , pour t\u00e9l\u00e9charger localement de la donn\u00e9e OSM French locator filter , pour faire de la saisie d'une adresse en utilisant https://geo.api.gouv.fr/adresse Spreadsheet Layers , m\u00eame si QGIS permet efficacement d'ouvrir un fichier ODS ou XLS et de pouvoir s\u00e9lectionner une feuille en particulier, il est parfois int\u00e9ressant d'utiliser cette extension","title":"Les extensions"},{"location":"extensions/#partage-de-style","text":"Avec le QGIS Resources Sharing, il existe le style hub pour t\u00e9l\u00e9charger des styles.","title":"Partage de style"},{"location":"formulaire/","text":"Les formulaires # Documentation # Les formulaires https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/vector_properties.html#attributes-form-properties Les relations 1-n dans QGIS https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/attribute_table.html#creating-one-or-many-to-many-relations Objectif # QGIS permet de faire de masques de saisie lors de la cr\u00e9ation ou l'\u00e9dition des donn\u00e9es : avoir des menus d\u00e9roulants, des cases \u00e0 cocher, des zones de textes en lecture seule... Pour cela, nous allons r\u00e9aliser une petite base de donn\u00e9es pour de la saisie d'observations faunistiques. Nous pouvons utiliser PostgreSQL ou alors une base de donn\u00e9es fichier comme Geopackage. Nous allons obtenir des relations 1-n , par exemple, \u00e0 une commune, nous avons plusieurs observations. De m\u00eame, un observateur poss\u00e8de 0 ou plusieurs observations, mais une observation appartient \u00e0 un seul observateur. QGIS permet de d\u00e9finir des relations entre les tables. Exercice # Cr\u00e9ation des tables # Nous allons utiliser le mod\u00e8le de donn\u00e9es suivant : Table especes , non spatiale ID Nom commun : nom_commun Nom scientifique : nom_scientifique Autres champs m\u00e9tiers possibles : Taxref, page Wikip\u00e9dia, photo etc Table observateurs , non spatiale ID Nom : nom Pr\u00e9nom : prenom Une table des communes ou d\u00e9partement avec un code INSEE, polygonale Table observations , g\u00e9om\u00e9trie ponctuelle ID Date : date Esp\u00e8ce : espece_id , pour stocker l'identifiant de l'esp\u00e8ce Observateur : observateur_id , pour stocker l'identifiant de l'observateur Genre (liste ferm\u00e9) : genre Nombre : nombre En groupe : en_groupe , type bool\u00e9en Photo : photo Remarque : remarque Pour la cr\u00e9ation des tables : Dans le cas de l'utilisation d'un Geopackage : Il y a d\u00e9j\u00e0 le champ fid qui fait office de cl\u00e9 primaire. Astuce pour la cr\u00e9ation des champs : cr\u00e9er juste le premier champ dans la boite de dialogue de cr\u00e9ation de couche. Nous utiliserons les outils dans le panneau Table attributaire pour ajouter les autres attributs. Il y a plus de choix. Dans le cas de l'utilisation de PostGIS : Utiliser l'assistant de cr\u00e9ation de table du DB Manager Ou alors du SQL ! Cr\u00e9ation des relations # Menu Projet \u25b6 Propri\u00e9t\u00e9s \u25b6 Relations , nous pouvons cr\u00e9er ici les relations 1-n entre les tables. Par convention personnelle, je nomme les relations suivant le mod\u00e8le parent_enfant , par exemple commune_observation . Cr\u00e9ation des formulaires # Dans les propri\u00e9t\u00e9s de la couche vecteur en question, onglet Formulaire d'attributs : Couche observateurs : Mode formulaire : G\u00e9n\u00e9ration automatique Mettre un alias sur les champs, langage humain Mettre le bon outil d'\u00e9dition pour les champs : cach\u00e9e ou texte Mettre les contraintes et les renforcer Couche especes : M\u00eame mode de formulaire Alias Configurer aussi l'outil d'\u00e9dition, avec l'unicit\u00e9 sur le nom de l'esp\u00e8ce Bonus : utiliser une expression pour v\u00e9rifier que la premi\u00e8re lettre est bien une majuscule. regexp_match( left(\"nom_commun\", 1), '[A-Z]') Couche observations : Bonus : une expression pour la date pour \u00e9viter une saisie dans le futur Les champs virtuels # Sur la couche des communes, on peut ajouter un champ virtuel afin de compter le nombre d'observations par commune : 1 2 3 4 5 relation_aggregate( relation:='observation_commune', aggregate:='count', expression:=\"fid\" ) Bonus, on peut ajouter une mise en forme conditionnelle Rouge si 1 @value = minimum( \"obs\" ) Vert si 1 @value = maximum( \"obs\" ) Solution compl\u00e8te # TODO, mettre le lien vers le geopackage https://github.com/Gustry/formation-qgis/raw/master/formulaire.gpkg Depuis QGIS \u25b6 Ouvrir depuis... \u25b6 Geopackage","title":"Cr\u00e9ation de donn\u00e9es"},{"location":"formulaire/#les-formulaires","text":"","title":"Les formulaires"},{"location":"formulaire/#documentation","text":"Les formulaires https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/vector_properties.html#attributes-form-properties Les relations 1-n dans QGIS https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/attribute_table.html#creating-one-or-many-to-many-relations","title":"Documentation"},{"location":"formulaire/#objectif","text":"QGIS permet de faire de masques de saisie lors de la cr\u00e9ation ou l'\u00e9dition des donn\u00e9es : avoir des menus d\u00e9roulants, des cases \u00e0 cocher, des zones de textes en lecture seule... Pour cela, nous allons r\u00e9aliser une petite base de donn\u00e9es pour de la saisie d'observations faunistiques. Nous pouvons utiliser PostgreSQL ou alors une base de donn\u00e9es fichier comme Geopackage. Nous allons obtenir des relations 1-n , par exemple, \u00e0 une commune, nous avons plusieurs observations. De m\u00eame, un observateur poss\u00e8de 0 ou plusieurs observations, mais une observation appartient \u00e0 un seul observateur. QGIS permet de d\u00e9finir des relations entre les tables.","title":"Objectif"},{"location":"formulaire/#exercice","text":"","title":"Exercice"},{"location":"formulaire/#creation-des-tables","text":"Nous allons utiliser le mod\u00e8le de donn\u00e9es suivant : Table especes , non spatiale ID Nom commun : nom_commun Nom scientifique : nom_scientifique Autres champs m\u00e9tiers possibles : Taxref, page Wikip\u00e9dia, photo etc Table observateurs , non spatiale ID Nom : nom Pr\u00e9nom : prenom Une table des communes ou d\u00e9partement avec un code INSEE, polygonale Table observations , g\u00e9om\u00e9trie ponctuelle ID Date : date Esp\u00e8ce : espece_id , pour stocker l'identifiant de l'esp\u00e8ce Observateur : observateur_id , pour stocker l'identifiant de l'observateur Genre (liste ferm\u00e9) : genre Nombre : nombre En groupe : en_groupe , type bool\u00e9en Photo : photo Remarque : remarque Pour la cr\u00e9ation des tables : Dans le cas de l'utilisation d'un Geopackage : Il y a d\u00e9j\u00e0 le champ fid qui fait office de cl\u00e9 primaire. Astuce pour la cr\u00e9ation des champs : cr\u00e9er juste le premier champ dans la boite de dialogue de cr\u00e9ation de couche. Nous utiliserons les outils dans le panneau Table attributaire pour ajouter les autres attributs. Il y a plus de choix. Dans le cas de l'utilisation de PostGIS : Utiliser l'assistant de cr\u00e9ation de table du DB Manager Ou alors du SQL !","title":"Cr\u00e9ation des tables"},{"location":"formulaire/#creation-des-relations","text":"Menu Projet \u25b6 Propri\u00e9t\u00e9s \u25b6 Relations , nous pouvons cr\u00e9er ici les relations 1-n entre les tables. Par convention personnelle, je nomme les relations suivant le mod\u00e8le parent_enfant , par exemple commune_observation .","title":"Cr\u00e9ation des relations"},{"location":"formulaire/#creation-des-formulaires","text":"Dans les propri\u00e9t\u00e9s de la couche vecteur en question, onglet Formulaire d'attributs : Couche observateurs : Mode formulaire : G\u00e9n\u00e9ration automatique Mettre un alias sur les champs, langage humain Mettre le bon outil d'\u00e9dition pour les champs : cach\u00e9e ou texte Mettre les contraintes et les renforcer Couche especes : M\u00eame mode de formulaire Alias Configurer aussi l'outil d'\u00e9dition, avec l'unicit\u00e9 sur le nom de l'esp\u00e8ce Bonus : utiliser une expression pour v\u00e9rifier que la premi\u00e8re lettre est bien une majuscule. regexp_match( left(\"nom_commun\", 1), '[A-Z]') Couche observations : Bonus : une expression pour la date pour \u00e9viter une saisie dans le futur","title":"Cr\u00e9ation des formulaires"},{"location":"formulaire/#les-champs-virtuels","text":"Sur la couche des communes, on peut ajouter un champ virtuel afin de compter le nombre d'observations par commune : 1 2 3 4 5 relation_aggregate( relation:='observation_commune', aggregate:='count', expression:=\"fid\" ) Bonus, on peut ajouter une mise en forme conditionnelle Rouge si 1 @value = minimum( \"obs\" ) Vert si 1 @value = maximum( \"obs\" )","title":"Les champs virtuels"},{"location":"formulaire/#solution-complete","text":"TODO, mettre le lien vers le geopackage https://github.com/Gustry/formation-qgis/raw/master/formulaire.gpkg Depuis QGIS \u25b6 Ouvrir depuis... \u25b6 Geopackage","title":"Solution compl\u00e8te"},{"location":"interface/","text":"Interface # Liens # Interface de QGIS Fen\u00eatre principale # L'interface de QGIS se compose de plusieurs : barre d'outils : Vue \u25b6 Barre d'outils panneaux : Vue \u25b6 Panneaux On peut aussi y acc\u00e9der depuis un clic droit sur un emplacement vide dans une barre d'outils. Astuces # La couleur jaune implique la notion de s\u00e9lection. Une petite \u00e9toile blanche sur fond jaune implique la cr\u00e9ation d'un nouvel \u00e9l\u00e9ment : couche, entit\u00e9, \u00e9l\u00e9ment cartographique Un petit plus blanc sur fond vert implique la notion d'ajout d'un \u00e9l\u00e9ment existant Un petit epsilon violet (comme le 4\u1d49 ic\u00f4ne ci-dessus) indique l'utilisation d'une Expression QGIS . Elle est tr\u00e8s importante. N'oubliez pas les infobulles avec la souris. Propri\u00e9t\u00e9s # Dans QGIS, il existe plusieurs niveaux pour d\u00e9finir les propri\u00e9t\u00e9s : au niveau g\u00e9n\u00e9ral de QGIS du projet en cours d'une couche sp\u00e9cifique","title":"Interface"},{"location":"interface/#interface","text":"","title":"Interface"},{"location":"interface/#liens","text":"Interface de QGIS","title":"Liens"},{"location":"interface/#fenetre-principale","text":"L'interface de QGIS se compose de plusieurs : barre d'outils : Vue \u25b6 Barre d'outils panneaux : Vue \u25b6 Panneaux On peut aussi y acc\u00e9der depuis un clic droit sur un emplacement vide dans une barre d'outils.","title":"Fen\u00eatre principale"},{"location":"interface/#astuces","text":"La couleur jaune implique la notion de s\u00e9lection. Une petite \u00e9toile blanche sur fond jaune implique la cr\u00e9ation d'un nouvel \u00e9l\u00e9ment : couche, entit\u00e9, \u00e9l\u00e9ment cartographique Un petit plus blanc sur fond vert implique la notion d'ajout d'un \u00e9l\u00e9ment existant Un petit epsilon violet (comme le 4\u1d49 ic\u00f4ne ci-dessus) indique l'utilisation d'une Expression QGIS . Elle est tr\u00e8s importante. N'oubliez pas les infobulles avec la souris.","title":"Astuces"},{"location":"interface/#proprietes","text":"Dans QGIS, il existe plusieurs niveaux pour d\u00e9finir les propri\u00e9t\u00e9s : au niveau g\u00e9n\u00e9ral de QGIS du projet en cours d'une couche sp\u00e9cifique","title":"Propri\u00e9t\u00e9s"},{"location":"jointure-attributaire/","text":"Faire une jointure attributaire # Il est courant d'avoir une couche spatiale et d'avoir un autre fichier type tableur avec des informations compl\u00e9mentaires \u00e0 propos de cette couche spatiale. Nous souhaiterions donc ajouter ces informations du tableur \u00e0 notre couche spatiale. Important , une jointure attributaire fait en ce que l'on appelle une jointure de relation 1-1 . Une ligne dans le fichier tableur correspond une ligne dans la couche des communes. On souhaite pouvoir \"\u00e9tendre\" la table attributaire de la couche des communes. Pour une relation de type 1-n (plusieurs lignes du fichier tableur pour une ligne de la couche commune), il faut regarder du c\u00f4t\u00e9 des relations QGIS dans le chapitre sur les formulaires . Lien vers la documentation : https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/vector_properties.html#joins-properties Les \u00e9tapes : Pr\u00e9parer un fichier tableur \"simple\" avec les ent\u00eates des colonnes et les donn\u00e9es. Pas d'autres ent\u00eates ou autre texte. Il peut y avoir plusieurs feuilles, QGIS permet de choisir la feuille. Charger la table dans QGIS : Si fichier CSV : \u00e0 l'aide de l'outil Texte d\u00e9limit\u00e9 dans le gestionnaire des sources de donn\u00e9es Si fichier ODS, XLS : \u00e0 l'aide du panneau explorateur ou \u00e0 l'aide de l'outil Vecteur (m\u00eame s'il s'agit d'une table, sans g\u00e9om\u00e9trie) dans le gestionnaire des sources de donn\u00e9es V\u00e9rifier qu'il existe bien un champ commun aux deux couches avant de faire la jointure et qu'il peut y avoir une correspondance. Si ce n'est pas le cas, faire les modifications n\u00e9cessaires \u00e0 l'aide de la calculatrice de champ. Se rendre dans les propri\u00e9t\u00e9s de la couche vecteur \"parente\" dans l'onglet jointure . Ajouter une nouvelle jointure : Afin de conserver d\u00e9finitivement ces donn\u00e9es suppl\u00e9mentaires dans la table attributaire, on peut exporter la table (clic droit sur la couche, puis exporter). Lire la page sur les projections pour voir comment exporter. Note , afin de conserver ces champs qui peuvent \u00eatre tr\u00e8s long, on peut utiliser un geopackage.","title":"Jointure avec CSV"},{"location":"jointure-attributaire/#faire-une-jointure-attributaire","text":"Il est courant d'avoir une couche spatiale et d'avoir un autre fichier type tableur avec des informations compl\u00e9mentaires \u00e0 propos de cette couche spatiale. Nous souhaiterions donc ajouter ces informations du tableur \u00e0 notre couche spatiale. Important , une jointure attributaire fait en ce que l'on appelle une jointure de relation 1-1 . Une ligne dans le fichier tableur correspond une ligne dans la couche des communes. On souhaite pouvoir \"\u00e9tendre\" la table attributaire de la couche des communes. Pour une relation de type 1-n (plusieurs lignes du fichier tableur pour une ligne de la couche commune), il faut regarder du c\u00f4t\u00e9 des relations QGIS dans le chapitre sur les formulaires . Lien vers la documentation : https://docs.qgis.org/latest/fr/docs/user_manual/working_with_vector/vector_properties.html#joins-properties Les \u00e9tapes : Pr\u00e9parer un fichier tableur \"simple\" avec les ent\u00eates des colonnes et les donn\u00e9es. Pas d'autres ent\u00eates ou autre texte. Il peut y avoir plusieurs feuilles, QGIS permet de choisir la feuille. Charger la table dans QGIS : Si fichier CSV : \u00e0 l'aide de l'outil Texte d\u00e9limit\u00e9 dans le gestionnaire des sources de donn\u00e9es Si fichier ODS, XLS : \u00e0 l'aide du panneau explorateur ou \u00e0 l'aide de l'outil Vecteur (m\u00eame s'il s'agit d'une table, sans g\u00e9om\u00e9trie) dans le gestionnaire des sources de donn\u00e9es V\u00e9rifier qu'il existe bien un champ commun aux deux couches avant de faire la jointure et qu'il peut y avoir une correspondance. Si ce n'est pas le cas, faire les modifications n\u00e9cessaires \u00e0 l'aide de la calculatrice de champ. Se rendre dans les propri\u00e9t\u00e9s de la couche vecteur \"parente\" dans l'onglet jointure . Ajouter une nouvelle jointure : Afin de conserver d\u00e9finitivement ces donn\u00e9es suppl\u00e9mentaires dans la table attributaire, on peut exporter la table (clic droit sur la couche, puis exporter). Lire la page sur les projections pour voir comment exporter. Note , afin de conserver ces champs qui peuvent \u00eatre tr\u00e8s long, on peut utiliser un geopackage.","title":"Faire une jointure attributaire"},{"location":"mise-en-page/","text":"Mise en page # Anciennement composeur d'impression dans QGIS 2 Documentation # https://docs.qgis.org/latest/fr/docs/user_manual/print_composer/index.html Rappel sur les \u00e9l\u00e9ments d'une carte # Menu Projet \u25b6 Mise en page Pour chaque projet QGIS, on peut cr\u00e9er une ou plusieurs mises en page . Un gestionnaire de mise en page permet d\u2019ajouter, modifier, renommer, supprimer une mise en page. Chaque mise en page permet de cr\u00e9er sa carte \u00e0 imprimer, en y ins\u00e9rant autant d\u2019\u00e9l\u00e9ments que n\u00e9cessaire. Une mise en page doit au moins contenir : carte l\u00e9gende barre d\u2019\u00e9chelle fl\u00e8che Nord bloc texte : titre, sources, commentaire, etc. D'autres \u00e9l\u00e9ments sont possibles : bloc HTML : une page web (ou distante) image : logos (png, SVG) table attributaire grille r\u00e9guli\u00e8re sur une carte (graticule) carte de localisation (\u00e0 une \u00e9chelle plus petite), ou alors un cartouche, pour le centre-ville ... Utilisation de l'outil # Depuis QGIS 3, on peut modifier les propri\u00e9t\u00e9s de chaque page ind\u00e9pendamment : taille et rotation par exemple : faire clic-droit sur la page et Propri\u00e9t\u00e9s de la page . En utilisant les boutons \"plus\" dans la barre d'outils \u00e0 gauche, ajouter les \u00e9l\u00e9ments \u00e0 votre page. Dans le panneau Propri\u00e9t\u00e9s de l'objet , configurer les \u00e9l\u00e9ments en ouvrant les menus \"tiroirs\". Chaque \u00e9l\u00e9ment poss\u00e8de des propri\u00e9t\u00e9s qui lui sont propres. D\u00e9but de mise en page : Question , que manque-t-il sur cette mise en page ? QGIS permet de cr\u00e9er des composeurs avec plusieurs pages . Par exemple, une 1\u00e8re page pour la carte et la l\u00e9gende, et une seconde page pour la table attributaire et des images. Encore plus loin avec les expressions # Utiliser des expressions avec du texte dans les impressions : https://docs.qgis.org/latest/en/docs/user_manual/print_composer/composer_items/composer_label.html#exploring-expressions-in-a-label-item G\u00e9n\u00e9rer un atlas # Pour le moment, nous n'avons fait qu'une carte statique. Imaginons d\u00e9sormais que nous souhaiterions faire une collection de PDF, une par commune de notre d\u00e9partement. Pour g\u00e9n\u00e9rer un atlas , il faut : l'activer, via le menu Atlas / Param\u00e8tres de l'atlas en cochant la case G\u00e9n\u00e9rer un atlas de choisir la couche de couverture , par exemple les communes de choisir le champ ou l'expression qui donne le nom de l'objet , par exemple concat(\"NOM\", ' - ', \"CODE_INSEE\") de choisir un filtre (optionnel): \"NOM LIKE 'A%'\" d'ordonner par un champ: \"NOM\" d'aller dans les propri\u00e9t\u00e9s de la carte , et de cocher Contr\u00f4l\u00e9 par l'atlas et choisir la marge ou l'\u00e9chelle pour zoomer sur chaque objet : \u00c9chelle pr\u00e9d\u00e9finie d'activer l'aper\u00e7u pour tester : menu Atlas / Aper\u00e7u de l'atlas puis utiliser la barre d'outil Atlas pour passer d'une commune \u00e0 l'autre Documentation : https://docs.qgis.org/latest/fr/docs/user_manual/print_composer/create_output.html#generate-an-atlas Utilisation des expressions # On peut utiliser des expressions QGIS dans les \u00c9tiquettes , dans les filtres, dans les propri\u00e9t\u00e9s configurables via des expressions. Par exemple, on souhaite factoriser le nom de l'organisation : Faire une variable au niveau global de QGIS dans l'onglet Variables Modifier une \u00e9tiquette pour utiliser cette variable dans la fen\u00eatre des expressions pour l'utiliser. On peut contr\u00f4ler le style de l'objet courant (la commune) via une expression dans la symbologie d'une couche \u00e0 l'aide des ic\u00f4nes \u00e0 droite : Pour la couleur de bordure : 1 2 3 4 CASE WHEN @ atlas_featureid = $ id THEN 'red' ELSE 'black' END Pour la largeur de bordure : 1 2 3 4 CASE WHEN @ atlas_featureid = $ id THEN 1 ELSE 0 . 2 END Info Ces ic\u00f4nes deviennent jaune lorsqu'il y a une expression. G\u00e9n\u00e9rer un rapport # Documentation : https://docs.qgis.org/latest/fr/docs/user_manual/print_composer/create_reports.html QGIS3 ajoute un nouvel outil pour g\u00e9rer finement un document \u00e0 imprimer, via un objet qui s'appelle Rapport , qui permet : de d\u00e9finir une page d'ent\u00eate et un pied de page d'ins\u00e9rer des pages dynamiquement dans des groupes et des sous-groupes de pages L'id\u00e9e est de pouvoir tout contr\u00f4ler via QGIS, et d'\u00e9viter d'exporter une mise en page en PDF et de le reprendre avec un outil d'\u00e9dition tiers. Pour cela, on utilise le menu Projet / Nouveau rapport . L'interface du rapport est la m\u00eame qu'une mise en page (cf. ci-dessus), sauf qu'il y a un panneau suppl\u00e9mentaire, l' \u00c9diteur de rapport sur la gauche et que la barre d'outils Atlas n'existe plus. L'arbre dans ce nouveau panneau permet de contr\u00f4ler les param\u00e8tres du rapport : Rapport permet de cr\u00e9er/modifier l' ent\u00eate et le pied de page de tout le document. Le bouton + vert permet d'ajouter des pages statiques ou une section de groupes de champs Chaque section de groupes de champs permet d' it\u00e9rer sur les objets d'une couche , comme pour un atlas. Elle est caract\u00e9ris\u00e9e par une couche et un nom de champ et peut avoir un ent\u00eate un corps de document un pied de page On peut ajouter un sous-groupe de champs , si la couche fille contient un champ qui est aussi pr\u00e9sent dans la couche parente et permet de faire le lien, CODE_INSEE par exemple. Cela devient donc un atlas dans un atlas. Concr\u00e8tement en guise d'exemple, \u00e0 l'\u00e9chelle d'une r\u00e9gion, nous pouvons it\u00e9rer sur les d\u00e9partements, puis dans chaque d\u00e9partement sur les communes. Inconv\u00e9nient : on ne peut pas filtrer sur les couches des sections de groupes de champs. Astuce : on peut importer un mod\u00e8le de mise en page dans un rapport.","title":"Mise en page"},{"location":"mise-en-page/#mise-en-page","text":"Anciennement composeur d'impression dans QGIS 2","title":"Mise en page"},{"location":"mise-en-page/#documentation","text":"https://docs.qgis.org/latest/fr/docs/user_manual/print_composer/index.html","title":"Documentation"},{"location":"mise-en-page/#rappel-sur-les-elements-dune-carte","text":"Menu Projet \u25b6 Mise en page Pour chaque projet QGIS, on peut cr\u00e9er une ou plusieurs mises en page . Un gestionnaire de mise en page permet d\u2019ajouter, modifier, renommer, supprimer une mise en page. Chaque mise en page permet de cr\u00e9er sa carte \u00e0 imprimer, en y ins\u00e9rant autant d\u2019\u00e9l\u00e9ments que n\u00e9cessaire. Une mise en page doit au moins contenir : carte l\u00e9gende barre d\u2019\u00e9chelle fl\u00e8che Nord bloc texte : titre, sources, commentaire, etc. D'autres \u00e9l\u00e9ments sont possibles : bloc HTML : une page web (ou distante) image : logos (png, SVG) table attributaire grille r\u00e9guli\u00e8re sur une carte (graticule) carte de localisation (\u00e0 une \u00e9chelle plus petite), ou alors un cartouche, pour le centre-ville ...","title":"Rappel sur les \u00e9l\u00e9ments d'une carte"},{"location":"mise-en-page/#utilisation-de-loutil","text":"Depuis QGIS 3, on peut modifier les propri\u00e9t\u00e9s de chaque page ind\u00e9pendamment : taille et rotation par exemple : faire clic-droit sur la page et Propri\u00e9t\u00e9s de la page . En utilisant les boutons \"plus\" dans la barre d'outils \u00e0 gauche, ajouter les \u00e9l\u00e9ments \u00e0 votre page. Dans le panneau Propri\u00e9t\u00e9s de l'objet , configurer les \u00e9l\u00e9ments en ouvrant les menus \"tiroirs\". Chaque \u00e9l\u00e9ment poss\u00e8de des propri\u00e9t\u00e9s qui lui sont propres. D\u00e9but de mise en page : Question , que manque-t-il sur cette mise en page ? QGIS permet de cr\u00e9er des composeurs avec plusieurs pages . Par exemple, une 1\u00e8re page pour la carte et la l\u00e9gende, et une seconde page pour la table attributaire et des images.","title":"Utilisation de l'outil"},{"location":"mise-en-page/#encore-plus-loin-avec-les-expressions","text":"Utiliser des expressions avec du texte dans les impressions : https://docs.qgis.org/latest/en/docs/user_manual/print_composer/composer_items/composer_label.html#exploring-expressions-in-a-label-item","title":"Encore plus loin avec les expressions"},{"location":"mise-en-page/#generer-un-atlas","text":"Pour le moment, nous n'avons fait qu'une carte statique. Imaginons d\u00e9sormais que nous souhaiterions faire une collection de PDF, une par commune de notre d\u00e9partement. Pour g\u00e9n\u00e9rer un atlas , il faut : l'activer, via le menu Atlas / Param\u00e8tres de l'atlas en cochant la case G\u00e9n\u00e9rer un atlas de choisir la couche de couverture , par exemple les communes de choisir le champ ou l'expression qui donne le nom de l'objet , par exemple concat(\"NOM\", ' - ', \"CODE_INSEE\") de choisir un filtre (optionnel): \"NOM LIKE 'A%'\" d'ordonner par un champ: \"NOM\" d'aller dans les propri\u00e9t\u00e9s de la carte , et de cocher Contr\u00f4l\u00e9 par l'atlas et choisir la marge ou l'\u00e9chelle pour zoomer sur chaque objet : \u00c9chelle pr\u00e9d\u00e9finie d'activer l'aper\u00e7u pour tester : menu Atlas / Aper\u00e7u de l'atlas puis utiliser la barre d'outil Atlas pour passer d'une commune \u00e0 l'autre Documentation : https://docs.qgis.org/latest/fr/docs/user_manual/print_composer/create_output.html#generate-an-atlas","title":"G\u00e9n\u00e9rer un atlas"},{"location":"mise-en-page/#utilisation-des-expressions","text":"On peut utiliser des expressions QGIS dans les \u00c9tiquettes , dans les filtres, dans les propri\u00e9t\u00e9s configurables via des expressions. Par exemple, on souhaite factoriser le nom de l'organisation : Faire une variable au niveau global de QGIS dans l'onglet Variables Modifier une \u00e9tiquette pour utiliser cette variable dans la fen\u00eatre des expressions pour l'utiliser. On peut contr\u00f4ler le style de l'objet courant (la commune) via une expression dans la symbologie d'une couche \u00e0 l'aide des ic\u00f4nes \u00e0 droite : Pour la couleur de bordure : 1 2 3 4 CASE WHEN @ atlas_featureid = $ id THEN 'red' ELSE 'black' END Pour la largeur de bordure : 1 2 3 4 CASE WHEN @ atlas_featureid = $ id THEN 1 ELSE 0 . 2 END Info Ces ic\u00f4nes deviennent jaune lorsqu'il y a une expression.","title":"Utilisation des expressions"},{"location":"mise-en-page/#generer-un-rapport","text":"Documentation : https://docs.qgis.org/latest/fr/docs/user_manual/print_composer/create_reports.html QGIS3 ajoute un nouvel outil pour g\u00e9rer finement un document \u00e0 imprimer, via un objet qui s'appelle Rapport , qui permet : de d\u00e9finir une page d'ent\u00eate et un pied de page d'ins\u00e9rer des pages dynamiquement dans des groupes et des sous-groupes de pages L'id\u00e9e est de pouvoir tout contr\u00f4ler via QGIS, et d'\u00e9viter d'exporter une mise en page en PDF et de le reprendre avec un outil d'\u00e9dition tiers. Pour cela, on utilise le menu Projet / Nouveau rapport . L'interface du rapport est la m\u00eame qu'une mise en page (cf. ci-dessus), sauf qu'il y a un panneau suppl\u00e9mentaire, l' \u00c9diteur de rapport sur la gauche et que la barre d'outils Atlas n'existe plus. L'arbre dans ce nouveau panneau permet de contr\u00f4ler les param\u00e8tres du rapport : Rapport permet de cr\u00e9er/modifier l' ent\u00eate et le pied de page de tout le document. Le bouton + vert permet d'ajouter des pages statiques ou une section de groupes de champs Chaque section de groupes de champs permet d' it\u00e9rer sur les objets d'une couche , comme pour un atlas. Elle est caract\u00e9ris\u00e9e par une couche et un nom de champ et peut avoir un ent\u00eate un corps de document un pied de page On peut ajouter un sous-groupe de champs , si la couche fille contient un champ qui est aussi pr\u00e9sent dans la couche parente et permet de faire le lien, CODE_INSEE par exemple. Cela devient donc un atlas dans un atlas. Concr\u00e8tement en guise d'exemple, \u00e0 l'\u00e9chelle d'une r\u00e9gion, nous pouvons it\u00e9rer sur les d\u00e9partements, puis dans chaque d\u00e9partement sur les communes. Inconv\u00e9nient : on ne peut pas filtrer sur les couches des sections de groupes de champs. Astuce : on peut importer un mod\u00e8le de mise en page dans un rapport.","title":"G\u00e9n\u00e9rer un rapport"},{"location":"processing/","text":"Processing # Outil d'analyse vecteur # QGIS propose de nombreux algorithmes d'analyse spatiale. Nous allons utiliser l'algorithme Extraire par localisation / S\u00e9lection par localisation afin de r\u00e9cup\u00e9rer seulement les tron\u00e7ons de route qui intersectent la commune. Nous souhaitons obtenir une couche des d\u00e9partements Fran\u00e7ais \u00e0 l'aide de la couche des communes. Il s'agit d'un regroupement. Que remarque-t-on sur la table attributaire ? La modification par algorithme de traitement # QGIS permet maintenant de modifier directement des g\u00e9om\u00e9tries s\u00e9lectionn\u00e9es \u00e0 partir d'un algorithme de traitement . Pour cela : Ouvrir la bo\u00eete \u00e0 outils via le menu Traitement / Bo\u00eete \u00e0 outils S\u00e9lectionner un ou plusieurs objets Chercher un algorithme dans le panneau Bo\u00eete \u00e0 outils de traitement , par exemple Accrochage de points \u00e0 la grille Activer le bouton jaune \u00c9diter les entit\u00e9s sur place * Lancer l'algorithme avec valeur 500 en X et Y et lancer pour tester le traitement. On peut toujours revenir en arri\u00e8re via CTRL+Z","title":"Processing"},{"location":"processing/#processing","text":"","title":"Processing"},{"location":"processing/#outil-danalyse-vecteur","text":"QGIS propose de nombreux algorithmes d'analyse spatiale. Nous allons utiliser l'algorithme Extraire par localisation / S\u00e9lection par localisation afin de r\u00e9cup\u00e9rer seulement les tron\u00e7ons de route qui intersectent la commune. Nous souhaitons obtenir une couche des d\u00e9partements Fran\u00e7ais \u00e0 l'aide de la couche des communes. Il s'agit d'un regroupement. Que remarque-t-on sur la table attributaire ?","title":"Outil d'analyse vecteur"},{"location":"processing/#la-modification-par-algorithme-de-traitement","text":"QGIS permet maintenant de modifier directement des g\u00e9om\u00e9tries s\u00e9lectionn\u00e9es \u00e0 partir d'un algorithme de traitement . Pour cela : Ouvrir la bo\u00eete \u00e0 outils via le menu Traitement / Bo\u00eete \u00e0 outils S\u00e9lectionner un ou plusieurs objets Chercher un algorithme dans le panneau Bo\u00eete \u00e0 outils de traitement , par exemple Accrochage de points \u00e0 la grille Activer le bouton jaune \u00c9diter les entit\u00e9s sur place * Lancer l'algorithme avec valeur 500 en X et Y et lancer pour tester le traitement. On peut toujours revenir en arri\u00e8re via CTRL+Z","title":"La modification par algorithme de traitement"},{"location":"projections/","text":"Les projections # Les couches et le projet # Les couches (spatiales) ont chacune une projection. Dans les propri\u00e9t\u00e9s de la couche, onglet Information . Ou alors en passant la souris sur la couche pour faire afficher l'infobulle dans la l\u00e9gende. Le projet a, lui aussi, une projection. Il peut donc y avoir autant de projections que de couches plus celle du projet. La projection du projet se trouve en bas \u00e0 droite : Les projections courantes # Ceci est vrai en France m\u00e9tropolitaine : EPSG:4326 , unit\u00e9 en degr\u00e9, mondiale EPSG:3857 , dit Google Mercator, en m\u00e8tre, mondiale EPSG:2154 , identique \u00e0 IGNF:LAMB93 , en m\u00e8tre Reprojection d'une couche # Note : SCR : Syst\u00e8me de Coordonn\u00e9es de R\u00e9f\u00e9rence Pour faire une reprojection de couche, ne jamais modifier le SCR dans les propri\u00e9t\u00e9s de la couche, onglet Source . Ceci ne reprojettera pas les donn\u00e9es dans une autre projection. Ceci red\u00e9finira uniquement la projection. C'est-\u00e0-dire ceci indiquera de fa\u00e7on erron\u00e9e au jeu de donn\u00e9es qu'il s'agit d'un autre SCR. Ainsi, n'utilisez cette manipulation que pour corriger un jeu de donn\u00e9es dont la projection est fausse. Pour faire une reprojection, faire un clic droit sur la couche puis aller dans le menu Exporter . Suivant si vous avez une s\u00e9lection ou non , choisissez la bonne option dans le menu. Ensuite, dans la nouvelle fen\u00eatre, vous aller pouvoir d\u00e9finir : le format de destination (Geopackage, Shapefile, CSV...) le chemin de destination . Attention, toujours utiliser les trois petits points lors de la saisie du nom de fichier ! le SCR de destination.","title":"Projections"},{"location":"projections/#les-projections","text":"","title":"Les projections"},{"location":"projections/#les-couches-et-le-projet","text":"Les couches (spatiales) ont chacune une projection. Dans les propri\u00e9t\u00e9s de la couche, onglet Information . Ou alors en passant la souris sur la couche pour faire afficher l'infobulle dans la l\u00e9gende. Le projet a, lui aussi, une projection. Il peut donc y avoir autant de projections que de couches plus celle du projet. La projection du projet se trouve en bas \u00e0 droite :","title":"Les couches et le projet"},{"location":"projections/#les-projections-courantes","text":"Ceci est vrai en France m\u00e9tropolitaine : EPSG:4326 , unit\u00e9 en degr\u00e9, mondiale EPSG:3857 , dit Google Mercator, en m\u00e8tre, mondiale EPSG:2154 , identique \u00e0 IGNF:LAMB93 , en m\u00e8tre","title":"Les projections courantes"},{"location":"projections/#reprojection-dune-couche","text":"Note : SCR : Syst\u00e8me de Coordonn\u00e9es de R\u00e9f\u00e9rence Pour faire une reprojection de couche, ne jamais modifier le SCR dans les propri\u00e9t\u00e9s de la couche, onglet Source . Ceci ne reprojettera pas les donn\u00e9es dans une autre projection. Ceci red\u00e9finira uniquement la projection. C'est-\u00e0-dire ceci indiquera de fa\u00e7on erron\u00e9e au jeu de donn\u00e9es qu'il s'agit d'un autre SCR. Ainsi, n'utilisez cette manipulation que pour corriger un jeu de donn\u00e9es dont la projection est fausse. Pour faire une reprojection, faire un clic droit sur la couche puis aller dans le menu Exporter . Suivant si vous avez une s\u00e9lection ou non , choisissez la bonne option dans le menu. Ensuite, dans la nouvelle fen\u00eatre, vous aller pouvoir d\u00e9finir : le format de destination (Geopackage, Shapefile, CSV...) le chemin de destination . Attention, toujours utiliser les trois petits points lors de la saisie du nom de fichier ! le SCR de destination.","title":"Reprojection d'une couche"},{"location":"source-de-donnees/","text":"Des donn\u00e9es # IGN INSEE data.gouv.fr , geodata.gouv.fr INSEE Cadastre (Edigeo) IGN G\u00e9oportail de l'urbanisme OpenStreeMap GeoFabrik : extraction r\u00e9guli\u00e8re de donn\u00e9es OpenStreetMap Datawax Osm2Igeo : extraction des donn\u00e9es OSM Extension QGIS QuickOSM","title":"Donn\u00e9es"},{"location":"source-de-donnees/#des-donnees","text":"IGN INSEE data.gouv.fr , geodata.gouv.fr INSEE Cadastre (Edigeo) IGN G\u00e9oportail de l'urbanisme OpenStreeMap GeoFabrik : extraction r\u00e9guli\u00e8re de donn\u00e9es OpenStreetMap Datawax Osm2Igeo : extraction des donn\u00e9es OSM Extension QGIS QuickOSM","title":"Des donn\u00e9es"},{"location":"symbologie-vecteur/","text":"La symbologie vecteur # Les diff\u00e9rents types de symbologie # QGIS propose plusieurs modes pour appliquer une symbologie sur une couche vectorielle, suivant la g\u00e9om\u00e9trie : Symbole unique : tous les objets de la couche seront repr\u00e9sent\u00e9s de la m\u00eame mani\u00e8re Cat\u00e9goris\u00e9 : Un champ ou une expression sert de cat\u00e9gorie. On aura autant de classes de symbole que de valeurs distinctes dans cette colonne. Exemple la cat\u00e9gorie d'une route, on a un ensemble d\u00e9termin\u00e9 de valeurs : autoroute, d\u00e9partementale, piste foresti\u00e8re... Gradu\u00e9e : on cr\u00e9e des classes avec des bornes min et max sur un champ ou une expression. Tous les objets dont la valeur est comprise entre ces bornes auront le m\u00eame symbole. Exemple la population d'une commune, il y a autant de valeurs possibles que de communes. On ne peut pas conna\u00eetre \u00e0 l'avance les diff\u00e9rentes valeurs du champ. Pour la r\u00e9alisation de ces bornes, il existe plusieurs modes : Intervalle \u00e9gal Quantile (nombre \u00e9gale) Ruptures naturelles (jenks). Les bornes de classes sont identifi\u00e9es parmi celles qui regroupent le mieux des valeurs similaires et optimisent les diff\u00e9rences entre les classes. Les entit\u00e9s sont r\u00e9parties en classes dont les limites sont d\u00e9finies aux endroits o\u00f9 se trouvent de grandes diff\u00e9rences dans les valeurs de donn\u00e9es. \u00c9cart-type Jolies ruptures Documentation : http://www.geoinformations.developpement-durable.gouv.fr/fichier/pdf/m02_analyses_thematiques_papier_cle69c733.pdf?arg=177831151&cle=789472d4c4713fd4bf639930749a8c14a501ee5e&file=pdf%2Fm02_analyses_thematiques_papier_cle69c733.pdf Ensemble de r\u00e8gles : on cr\u00e9e un arbre de r\u00e8gles en utilisant des filtres sur les champs et/ou des seuils d'\u00e9chelles. D\u00e9placement de points : QGIS d\u00e9place les symboles dans un cercle ou une grille autour des points superpos\u00e9s Groupes de points : On groupe les points dans des cercles dont l'affichage d\u00e9pend du nombre de points ou d'une expression Cartes de chaleur : On cr\u00e9e un raster issu de l'interpolation des valeurs des points Polygones invers\u00e9s : On repr\u00e9sente le remplissage du polygone \u00e0 son ext\u00e9rieur (effet de masque) 2.5D : Rendu pseudo-3D avec effet de perspective Groupe de points : Carte de chaleur : Rendu 2.5D : Les diff\u00e9rents niveaux d'un symbole # QGIS permet de dessiner plusieurs niveaux de \"dessin\" pour un m\u00eame symbole. Jouer avec l'ordre des niveaux des symboles # En affectant un style, aux routes secondaires et tertiaires, on s'aper\u00e7oit que le rendu n'est pas optimal : Il faut pour cela changer l'ordre de rendu des niveaux de symbole. Retourner dans l'onglet Symbologie , en bas \u00e0 droite, Avanc\u00e9 , Niveaux de symbole . Le r\u00e9sultat est bien meilleur : Activer un effet sur un symbole # QGIS permet d'activer des effets qui sont appliqu\u00e9s pour modifier le symbole final. On peut par exemple appliquer un ombrage sur les symboles ponctuels. Les effets # TODO","title":"Symbologie vecteur"},{"location":"symbologie-vecteur/#la-symbologie-vecteur","text":"","title":"La symbologie vecteur"},{"location":"symbologie-vecteur/#les-differents-types-de-symbologie","text":"QGIS propose plusieurs modes pour appliquer une symbologie sur une couche vectorielle, suivant la g\u00e9om\u00e9trie : Symbole unique : tous les objets de la couche seront repr\u00e9sent\u00e9s de la m\u00eame mani\u00e8re Cat\u00e9goris\u00e9 : Un champ ou une expression sert de cat\u00e9gorie. On aura autant de classes de symbole que de valeurs distinctes dans cette colonne. Exemple la cat\u00e9gorie d'une route, on a un ensemble d\u00e9termin\u00e9 de valeurs : autoroute, d\u00e9partementale, piste foresti\u00e8re... Gradu\u00e9e : on cr\u00e9e des classes avec des bornes min et max sur un champ ou une expression. Tous les objets dont la valeur est comprise entre ces bornes auront le m\u00eame symbole. Exemple la population d'une commune, il y a autant de valeurs possibles que de communes. On ne peut pas conna\u00eetre \u00e0 l'avance les diff\u00e9rentes valeurs du champ. Pour la r\u00e9alisation de ces bornes, il existe plusieurs modes : Intervalle \u00e9gal Quantile (nombre \u00e9gale) Ruptures naturelles (jenks). Les bornes de classes sont identifi\u00e9es parmi celles qui regroupent le mieux des valeurs similaires et optimisent les diff\u00e9rences entre les classes. Les entit\u00e9s sont r\u00e9parties en classes dont les limites sont d\u00e9finies aux endroits o\u00f9 se trouvent de grandes diff\u00e9rences dans les valeurs de donn\u00e9es. \u00c9cart-type Jolies ruptures Documentation : http://www.geoinformations.developpement-durable.gouv.fr/fichier/pdf/m02_analyses_thematiques_papier_cle69c733.pdf?arg=177831151&cle=789472d4c4713fd4bf639930749a8c14a501ee5e&file=pdf%2Fm02_analyses_thematiques_papier_cle69c733.pdf Ensemble de r\u00e8gles : on cr\u00e9e un arbre de r\u00e8gles en utilisant des filtres sur les champs et/ou des seuils d'\u00e9chelles. D\u00e9placement de points : QGIS d\u00e9place les symboles dans un cercle ou une grille autour des points superpos\u00e9s Groupes de points : On groupe les points dans des cercles dont l'affichage d\u00e9pend du nombre de points ou d'une expression Cartes de chaleur : On cr\u00e9e un raster issu de l'interpolation des valeurs des points Polygones invers\u00e9s : On repr\u00e9sente le remplissage du polygone \u00e0 son ext\u00e9rieur (effet de masque) 2.5D : Rendu pseudo-3D avec effet de perspective Groupe de points : Carte de chaleur : Rendu 2.5D :","title":"Les diff\u00e9rents types de symbologie"},{"location":"symbologie-vecteur/#les-differents-niveaux-dun-symbole","text":"QGIS permet de dessiner plusieurs niveaux de \"dessin\" pour un m\u00eame symbole.","title":"Les diff\u00e9rents niveaux d'un symbole"},{"location":"symbologie-vecteur/#jouer-avec-lordre-des-niveaux-des-symboles","text":"En affectant un style, aux routes secondaires et tertiaires, on s'aper\u00e7oit que le rendu n'est pas optimal : Il faut pour cela changer l'ordre de rendu des niveaux de symbole. Retourner dans l'onglet Symbologie , en bas \u00e0 droite, Avanc\u00e9 , Niveaux de symbole . Le r\u00e9sultat est bien meilleur :","title":"Jouer avec l'ordre des niveaux des symboles"},{"location":"symbologie-vecteur/#activer-un-effet-sur-un-symbole","text":"QGIS permet d'activer des effets qui sont appliqu\u00e9s pour modifier le symbole final. On peut par exemple appliquer un ombrage sur les symboles ponctuels.","title":"Activer un effet sur un symbole"},{"location":"symbologie-vecteur/#les-effets","text":"TODO","title":"Les effets"}]}